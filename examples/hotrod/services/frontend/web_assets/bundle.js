/*! For license information please see bundle.js.LICENSE.txt */
!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=54)}([function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(66)),n(r(28)),n(r(67)),n(r(27)),n(r(75)),n(r(30)),n(r(14)),n(r(76)),n(r(77)),n(r(78)),n(r(32)),n(r(80)),n(r(29)),n(r(81)),n(r(82)),n(r(33)),n(r(31)),n(r(83)),n(r(84))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(16)),n(r(17)),n(r(18)),n(r(56)),n(r(57)),n(r(19)),n(r(20)),n(r(21)),n(r(23)),n(r(24)),n(r(58)),n(r(59)),n(r(22));var o=r(6);t.Context=o.Context;const i=r(26);t.context=i.ContextAPI.getInstance();const a=r(63);t.trace=a.TraceAPI.getInstance();const s=r(64);t.metrics=s.MetricsAPI.getInstance();const u=r(65);t.propagation=u.PropagationAPI.getInstance(),t.default={trace:t.trace,metrics:t.metrics,context:t.context,propagation:t.propagation}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function _(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=_,o.addListener=_,o.once=_,o.off=_,o.removeListener=_,o.removeAllListeners=_,o.emit=_,o.prependListener=_,o.prependOnceListener=_,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(11),o=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=h;var i=Object.create(r(8));i.inherits=r(3);var a=r(46),s=r(50);i.inherits(h,a);for(var u=o(s.prototype),c=0;c<u.length;c++){var l=u[c];h.prototype[l]||(h.prototype[l]=s.prototype[l])}function h(e){if(!(this instanceof h))return new h(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||n.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(25)),n(r(60))},function(e,t,r){"use strict";(function(e){var n=r(112),o=r(113),i=r(42);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(t,r),o=(e=s(e,n)).write(t,r);o!==n&&(e=e.slice(0,o));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|p(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):f(e,t);if("Buffer"===t.type&&i(t.data))return f(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function f(e,t){var r=t.length<0?0:0|p(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return F(e).length;default:if(n)return H(e).length;t=(""+t).toLowerCase(),n=!0}}function _(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return P(this,t,r);case"latin1":case"binary":return N(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,o){var i,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=r;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(r+u>s&&(r=s-u),i=r;i>=0;i--){for(var h=!0,f=0;f<u;f++)if(c(e,i+f)!==c(t,f)){h=!1;break}if(h)return i}return-1}function y(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function b(e,t,r,n){return Z(H(t,e.length-r),e,r,n)}function E(e,t,r,n){return Z(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function T(e,t,r,n){return E(e,t,r,n)}function w(e,t,r,n){return Z(F(t),e,r,n)}function S(e,t,r,n){return Z(function(e,t){for(var r,n,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function O(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,a,s,u,c=e[o],l=null,h=c>239?4:c>223?3:c>191?2:1;if(o+h<=r)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),o+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):_.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(n,o),l=e.slice(t,r),h=0;h<s;++h)if(c[h]!==l[h]){i=c[h],a=l[h];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return E(this,e,t,r);case"latin1":case"binary":return T(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function N(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function R(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=B(e[i]);return o}function C(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function k(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,r,n,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function I(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function L(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function D(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function x(e,t,r,n,i){return i||D(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function j(e,t,r,n,i){return i||D(e,0,r,8),o.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;r=new u(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},u.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||M(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||M(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);M(this,e,t,r,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);M(this,e,t,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return x(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return x(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return j(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return j(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=u.isBuffer(e)?e:H(new u(e,n).toString()),s=a.length;for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function F(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Z(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}}).call(this,r(2))},function(e,t,r){(function(e){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,r(7).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(61);t.GLOBAL_CONTEXT_MANAGER_API_KEY=Symbol.for("io.opentelemetry.js.api.context"),t.GLOBAL_METRICS_API_KEY=Symbol.for("io.opentelemetry.js.api.metrics"),t.GLOBAL_PROPAGATION_API_KEY=Symbol.for("io.opentelemetry.js.api.propagation"),t.GLOBAL_TRACE_API_KEY=Symbol.for("io.opentelemetry.js.api.trace"),t._global=n._globalThis,t.makeGetter=function(e,t,r){return n=>n===e?t:r},t.API_BACKWARDS_COMPATIBILITY_VERSION=0},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(96)),n(r(38)),n(r(39)),n(r(97))},function(e,t,r){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,o){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,r)}));case 3:return t.nextTick((function(){e.call(null,r,n)}));case 4:return t.nextTick((function(){e.call(null,r,n,o)}));default:for(i=new Array(s-1),a=0;a<i.length;)i[a++]=arguments[a];return t.nextTick((function(){e.apply(null,i)}))}}}:e.exports=t}).call(this,r(4))},function(e,t,r){var n=r(7),o=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return o(e,t,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=a),i(o,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=o(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(55)),n(r(86)),n(r(92)),n(r(93)),n(r(94)),n(r(95)),n(r(34))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6);t.ACTIVE_SPAN_KEY=n.Context.createKey("OpenTelemetry Context Key ACTIVE_SPAN");const o=n.Context.createKey("OpenTelemetry Context Key EXTRACTED_SPAN_CONTEXT");function i(e){return e.getValue(t.ACTIVE_SPAN_KEY)||void 0}function a(e){return e.getValue(o)||void 0}t.getActiveSpan=i,t.setActiveSpan=function(e,r){return e.setValue(t.ACTIVE_SPAN_KEY,r)},t.getExtractedSpanContext=a,t.setExtractedSpanContext=function(e,t){return e.setValue(o,t)},t.getParentSpanContext=function(e){var t;return(null===(t=i(e))||void 0===t?void 0:t.context())||a(e)}},function(e,t,r){"use strict";var n=r(124),o=r(126);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){o.isString(e)&&(e=y(e));return e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),h=["%","/","?",";","#"].concat(l),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=r(127);function y(e,t,r){if(e&&o.isObject(e)&&e instanceof i)return e;var n=new i;return n.parse(e,t,r),n}i.prototype.parse=function(e,t,r){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var y=e=c.join(s);if(y=y.trim(),!r&&1===e.split("#").length){var b=u.exec(y);if(b)return this.path=y,this.href=y,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var E=a.exec(y);if(E){var T=(E=E[0]).toLowerCase();this.protocol=T,y=y.substr(E.length)}if(r||E||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===y.substr(0,2);!w||E&&g[E]||(y=y.substr(2),this.slashes=!0)}if(!g[E]&&(w||E&&!m[E])){for(var S,O,A=-1,P=0;P<f.length;P++){-1!==(N=y.indexOf(f[P]))&&(-1===A||N<A)&&(A=N)}-1!==(O=-1===A?y.lastIndexOf("@"):y.lastIndexOf("@",A))&&(S=y.slice(0,O),y=y.slice(O+1),this.auth=decodeURIComponent(S)),A=-1;for(P=0;P<h.length;P++){var N;-1!==(N=y.indexOf(h[P]))&&(-1===A||N<A)&&(A=N)}-1===A&&(A=y.length),this.host=y.slice(0,A),y=y.slice(A),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var C=this.hostname.split(/\./),k=(P=0,C.length);P<k;P++){var M=C[P];if(M&&!M.match(p)){for(var I="",L=0,D=M.length;L<D;L++)M.charCodeAt(L)>127?I+="x":I+=M[L];if(!I.match(p)){var x=C.slice(0,P),j=C.slice(P+1),U=M.match(d);U&&(x.push(U[1]),j.unshift(U[2])),j.length&&(y="/"+j.join(".")+y),this.hostname=x.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=n.toASCII(this.hostname));var B=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+B,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!_[T])for(P=0,k=l.length;P<k;P++){var F=l[P];if(-1!==y.indexOf(F)){var Z=encodeURIComponent(F);Z===F&&(Z=escape(F)),y=y.split(F).join(Z)}}var V=y.indexOf("#");-1!==V&&(this.hash=y.substr(V),y=y.slice(0,V));var z=y.indexOf("?");if(-1!==z?(this.search=y.substr(z),this.query=y.substr(z+1),t&&(this.query=v.parse(this.query)),y=y.slice(0,z)):t&&(this.search="",this.query={}),y&&(this.pathname=y),m[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var q=this.search||"";this.path=B+q}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=v.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},i.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(o.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var r=new i,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(r[l]=e[l])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!m[e.protocol]){for(var h=Object.keys(e),f=0;f<h.length;f++){var p=h[f];r[p]=e[p]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||g[e.protocol])r.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var _=r.pathname||"",v=r.search||"";r.path=_+v}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),E=b||y||r.host&&e.pathname,T=E,w=r.pathname&&r.pathname.split("/")||[],S=(d=e.pathname&&e.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),E=E&&(""===d[0]||""===w[0])),b)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,w=d;else if(d.length)w||(w=[]),w.pop(),w=w.concat(d),r.search=e.search,r.query=e.query;else if(!o.isNullOrUndefined(e.search)){if(S)r.hostname=r.host=w.shift(),(R=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=R.shift(),r.host=r.hostname=R.shift());return r.search=e.search,r.query=e.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=w.slice(-1)[0],A=(r.host||e.host||w.length>1)&&("."===O||".."===O)||""===O,P=0,N=w.length;N>=0;N--)"."===(O=w[N])?w.splice(N,1):".."===O?(w.splice(N,1),P++):P&&(w.splice(N,1),P--);if(!E&&!T)for(;P--;P)w.unshift("..");!E||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),A&&"/"!==w.join("/").substr(-1)&&w.push("");var R,C=""===w[0]||w[0]&&"/"===w[0].charAt(0);S&&(r.hostname=r.host=C?"":w.length?w.shift():"",(R=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=R.shift(),r.host=r.hostname=R.shift()));return(E=E||r.host&&w.length)&&!C&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultGetter=function(e,t){return e[t]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{inject(e,t,r){}extract(e,t,r){return e}}t.NoopHttpTextPropagator=n,t.NOOP_HTTP_TEXT_PROPAGATOR=new n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSetter=function(e,t,r){e[t]=r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(){}createMeasure(e,r){return t.NOOP_MEASURE_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createObserver(e,r){return t.NOOP_OBSERVER_METRIC}}t.NoopMeter=n;class o{constructor(e){this._instrument=e}bind(e){return this._instrument}unbind(e){}clear(){}}t.NoopMetric=o;class i extends o{add(e,t){this.bind(t).add(e)}}t.NoopCounterMetric=i;class a extends o{record(e,t,r,n){void 0===r?this.bind(t).record(e):void 0===n?this.bind(t).record(e,r):this.bind(t).record(e,r,n)}}t.NoopMeasureMetric=a;class s extends o{setCallback(e){}}t.NoopObserverMetric=s;class u{add(e){}}t.NoopBoundCounter=u;class c{record(e,t,r){}}t.NoopBoundMeasure=c,t.NOOP_METER=new n,t.NOOP_BOUND_COUNTER=new u,t.NOOP_COUNTER_METRIC=new i(t.NOOP_BOUND_COUNTER),t.NOOP_BOUND_MEASURE=new c,t.NOOP_MEASURE_METRIC=new a(t.NOOP_BOUND_MEASURE),t.NOOP_OBSERVER_METRIC=new s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(19);class o{getMeter(e,t){return n.NOOP_METER}}t.NoopMeterProvider=o,t.NOOP_METER_PROVIDER=new o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22);t.INVALID_TRACE_ID="0",t.INVALID_SPAN_ID="0";const o={traceId:t.INVALID_TRACE_ID,spanId:t.INVALID_SPAN_ID,traceFlags:n.TraceFlags.NONE};class i{constructor(e=o){this._spanContext=e}context(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}}t.NoopSpan=i,t.NOOP_SPAN=new i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(t.TraceFlags||(t.TraceFlags={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(21);class o{getCurrentSpan(){return n.NOOP_SPAN}startSpan(e,t){return n.NOOP_SPAN}withSpan(e,t){return t()}bind(e,t){return e}}t.NoopTracer=o,t.NOOP_TRACER=new o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(23);class o{getTracer(e,t){return n.NOOP_TRACER}}t.NoopTracerProvider=o,t.NOOP_TRACER_PROVIDER=new o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e){this._currentContext=e?new Map(e):new Map}static createKey(e){return Symbol(e)}getValue(e){return this._currentContext.get(e)}setValue(e,t){const r=new n(this._currentContext);return r._currentContext.set(e,t),r}deleteValue(e){const t=new n(this._currentContext);return t._currentContext.delete(e),t}}t.Context=n,n.ROOT_CONTEXT=new n,n.TODO=n.ROOT_CONTEXT},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6),o=r(9),i=new n.NoopContextManager;class a{constructor(){}static getInstance(){return this._instance||(this._instance=new a),this._instance}setGlobalContextManager(e){return o._global[o.GLOBAL_CONTEXT_MANAGER_API_KEY]?this._getContextManager():(o._global[o.GLOBAL_CONTEXT_MANAGER_API_KEY]=o.makeGetter(o.API_BACKWARDS_COMPATIBILITY_VERSION,e,i),e)}active(){return this._getContextManager().active()}with(e,t){return this._getContextManager().with(e,t)}bind(e,t=this.active()){return this._getContextManager().bind(e,t)}_getContextManager(){var e,t,r;return null!=(r=null===(t=(e=o._global)[o.GLOBAL_CONTEXT_MANAGER_API_KEY])||void 0===t?void 0:t.call(e,o.API_BACKWARDS_COMPATIBILITY_VERSION))?r:i}disable(){this._getContextManager().disable(),delete o._global[o.GLOBAL_CONTEXT_MANAGER_API_KEY]}}t.ContextAPI=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ERROR=0]="ERROR",e[e.WARN=1]="WARN",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG"}(t.LogLevel||(t.LogLevel={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NoopLogger=class{debug(e,...t){}error(e,...t){}warn(e,...t){}info(e,...t){}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(68)),n(r(70)),n(r(71)),n(r(72)),n(r(73)),n(r(74))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION="0.8.3"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(79);t.TraceState=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){this._internalState.has(e)&&this._internalState.delete(e),this._internalState.set(e,t)}unset(e){this._internalState.delete(e)}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){e.length>512||(this._internalState=e.split(",").reverse().reduce((e,t)=>{const r=t.indexOf("=");if(-1!==r){const o=t.slice(0,r),i=t.slice(r+1,t.length);n.validateKey(o)&&n.validateValue(i)&&e.set(o,i)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6).Context.createKey("OpenTelemetry Distributed Contexts Key");t.getCorrelationContext=function(e){return e.getValue(n)||void 0},t.setCorrelationContext=function(e,t){return e.setValue(n,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.INVALID_SPANID="0",t.INVALID_TRACEID="0",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE},t.isValid=function(e){return e.traceId!==t.INVALID_TRACEID&&e.spanId!==t.INVALID_SPANID}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),o=r(0);t.Span=class{constructor(e,t,r,i,a,s=[],u=o.hrTime()){this.attributes={},this.links=[],this.events=[],this.status={code:n.CanonicalCode.OK},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=t,this.spanContext=r,this.parentSpanId=a,this.kind=i,this.links=s,this.startTime=o.timeInputToHrTime(u),this.resource=e.resource,this._logger=e.logger,this._traceParams=e.getActiveTraceParams(),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this)}context(){return this.spanContext}setAttribute(e,t){if(this._isSpanEnded())return this;if(Object.keys(this.attributes).length>=this._traceParams.numberOfAttributesPerSpan){const e=Object.keys(this.attributes).shift();e&&(this._logger.warn("Dropping extra attributes : "+e),delete this.attributes[e])}return this.attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach(t=>{this.setAttribute(t,e[t])}),this}addEvent(e,t,r){return this._isSpanEnded()||(this.events.length>=this._traceParams.numberOfEventsPerSpan&&(this._logger.warn("Dropping extra events."),this.events.shift()),o.isTimeInput(t)&&(void 0===r&&(r=t),t=void 0),void 0===r&&(r=o.hrTime()),this.events.push({name:e,attributes:t,time:o.timeInputToHrTime(r)})),this}setStatus(e){return this._isSpanEnded()||(this.status=e),this}updateName(e){return this._isSpanEnded()||(this.name=e),this}end(e=o.hrTime()){this._isSpanEnded()?this._logger.error("You can only call end() on a span once."):(this._ended=!0,this.endTime=o.timeInputToHrTime(e),this._duration=o.hrTimeDuration(this.startTime,this.endTime),this._duration[0]<0&&this._logger.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this))}isRecording(){return!0}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&this._logger.warn("Can not execute the operation on ended Span {traceId: %s, spanId: %s}",this.spanContext.traceId,this.spanContext.spanId),this._ended}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);t.DEFAULT_MAX_EVENTS_PER_SPAN=128,t.DEFAULT_MAX_ATTRIBUTES_PER_SPAN=32,t.DEFAULT_MAX_LINKS_PER_SPAN=32,t.DEFAULT_CONFIG={defaultAttributes:{},logLevel:n.LogLevel.INFO,sampler:n.ALWAYS_SAMPLER,traceParams:{numberOfAttributesPerSpan:t.DEFAULT_MAX_ATTRIBUTES_PER_SPAN,numberOfLinksPerSpan:t.DEFAULT_MAX_LINKS_PER_SPAN,numberOfEventsPerSpan:t.DEFAULT_MAX_EVENTS_PER_SPAN}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),o=r(37);class i{constructor(e){this.labels=e}static empty(){return i.EMPTY}static createTelemetrySDKResource(){return new i({[o.TELEMETRY_SDK_RESOURCE.LANGUAGE]:n.SDK_INFO.LANGUAGE,[o.TELEMETRY_SDK_RESOURCE.NAME]:n.SDK_INFO.NAME,[o.TELEMETRY_SDK_RESOURCE.VERSION]:n.SDK_INFO.VERSION})}merge(e){if(!e||!Object.keys(e.labels).length)return this;const t=Object.assign({},e.labels,this.labels);return new i(t)}}t.Resource=i,i.EMPTY=new i({})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CLOUD_RESOURCE={PROVIDER:"cloud.provider",ACCOUNT_ID:"cloud.account.id",REGION:"cloud.region",ZONE:"cloud.zone"},t.CONTAINER_RESOURCE={NAME:"container.name",IMAGE_NAME:"container.image.name",IMAGE_TAG:"container.image.tag"},t.HOST_RESOURCE={HOSTNAME:"host.hostname",ID:"host.id",NAME:"host.name",TYPE:"host.type",IMAGE_NAME:"host.image.name",IMAGE_ID:"host.image.id",IMAGE_VERSION:"host.image.version"},t.K8S_RESOURCE={CLUSTER_NAME:"k8s.cluster.name",NAMESPACE_NAME:"k8s.namespace.name",POD_NAME:"k8s.pod.name",DEPLOYMENT_NAME:"k8s.deployment.name"},t.TELEMETRY_SDK_RESOURCE={NAME:"telemetry.sdk.name",LANGUAGE:"telemetry.sdk.language",VERSION:"telemetry.sdk.version"},t.SERVICE_RESOURCE={NAME:"service.name",NAMESPACE:"service.namespace",INSTANCE_ID:"service.instance.id",VERSION:"service.version"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.StackContextManager=class{constructor(){this._enabled=!1,this._currentContext=n.Context.ROOT_CONTEXT}_bindFunction(e,t=n.Context.ROOT_CONTEXT){const r=this,o=function(...n){return r.with(t,()=>e.apply(this,n))};return Object.defineProperty(o,"length",{enumerable:!1,configurable:!0,writable:!1,value:e.length}),o}active(){return this._currentContext}bind(e,t=n.Context.ROOT_CONTEXT){return void 0===t&&(t=this.active()),"function"==typeof e?this._bindFunction(e,t):e}disable(){return this._currentContext=n.Context.ROOT_CONTEXT,this._enabled=!1,this}enable(){return this._enabled||(this._enabled=!0,this._currentContext=n.Context.ROOT_CONTEXT),this}with(e,t){const r=this._currentContext;this._currentContext=e||n.Context.ROOT_CONTEXT;try{return t()}finally{this._currentContext=r}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CONNECT_END="connectEnd",e.CONNECT_START="connectStart",e.DOM_COMPLETE="domComplete",e.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",e.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",e.DOM_INTERACTIVE="domInteractive",e.DOMAIN_LOOKUP_END="domainLookupEnd",e.DOMAIN_LOOKUP_START="domainLookupStart",e.FETCH_START="fetchStart",e.LOAD_EVENT_END="loadEventEnd",e.LOAD_EVENT_START="loadEventStart",e.REDIRECT_END="redirectEnd",e.REDIRECT_START="redirectStart",e.REQUEST_START="requestStart",e.RESPONSE_END="responseEnd",e.RESPONSE_START="responseStart",e.SECURE_CONNECTION_START="secureConnectionStart",e.UNLOAD_EVENT_END="unloadEventEnd",e.UNLOAD_EVENT_START="unloadEventStart"}(t.PerformanceTimingNames||(t.PerformanceTimingNames={}))},function(e,t,r){"use strict";function n(e){return"function"==typeof e}var o=console.error.bind(console);function i(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function a(e){e&&e.logger&&(n(e.logger)?o=e.logger:o("new logger isn't a function, not replacing"))}function s(e,t,r){if(e&&e[t]){if(!r)return o("no wrapper function"),void o((new Error).stack);if(n(e[t])&&n(r)){var a=e[t],s=r(a,t);return i(s,"__original",a),i(s,"__unwrap",(function(){e[t]===s&&i(e,t,a)})),i(s,"__wrapped",!0),i(e,t,s),s}o("original object and wrapper must be functions")}else o("no original function "+t+" to wrap")}function u(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void o("no original to unwrap to -- has "+t+" already been unwrapped?"):(o("no function to unwrap."),void o((new Error).stack))}a.wrap=s,a.massWrap=function(e,t,r){if(!e)return o("must provide one or more modules to patch"),void o((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){s(e,t,r)}))})):o("must provide one or more functions to wrap on modules")},a.unwrap=u,a.massUnwrap=function(e,t){if(!e)return o("must provide one or more modules to patch"),void o((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){u(e,t)}))})):o("must provide one or more functions to unwrap on modules")},e.exports=a},function(e,t,r){(function(e){var n=r(111),o=r(44),i=r(122),a=r(123),s=r(15),u=t;u.request=function(t,r){t="string"==typeof t?s.parse(t):i(t);var o=-1===e.location.protocol.search(/^https?:$/)?"http:":"",a=t.protocol||o,u=t.hostname||t.host,c=t.port,l=t.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),t.url=(u?a+"//"+u:"")+(c?":"+c:"")+l,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new n(t);return r&&h.on("response",r),h},u.get=function(e,t){var r=u.request(e,t);return r.end(),r},u.ClientRequest=n,u.IncomingMessage=o.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=a,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,r(2))},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){(function(e){t.fetch=s(e.fetch)&&s(e.ReadableStream),t.writableStream=s(e.WritableStream),t.abortController=s(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var r;function n(){if(void 0!==r)return r;if(e.XMLHttpRequest){r=new e.XMLHttpRequest;try{r.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){r=null}}else r=null;return r}function o(e){var t=n();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}var i=void 0!==e.ArrayBuffer,a=i&&s(e.ArrayBuffer.prototype.slice);function s(e){return"function"==typeof e}t.arraybuffer=t.fetch||i&&o("arraybuffer"),t.msstream=!t.fetch&&a&&o("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&i&&o("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!n()&&s(n().overrideMimeType),t.vbArray=s(e.VBArray),r=null}).call(this,r(2))},function(e,t,r){(function(e,n,o){var i=r(43),a=r(3),s=r(45),u=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=t.IncomingMessage=function(t,r,a,u){var c=this;if(s.Readable.call(c),c._mode=a,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",(function(){e.nextTick((function(){c.emit("close")}))})),"fetch"===a){if(c._fetchResponse=r,c.url=r.url,c.statusCode=r.status,c.statusMessage=r.statusText,r.headers.forEach((function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)})),i.writableStream){var l=new WritableStream({write:function(e){return new Promise((function(t,r){c._destroyed?r():c.push(new n(e))?t():c._resumeFetch=t}))},close:function(){o.clearTimeout(u),c._destroyed||c.push(null)},abort:function(e){c._destroyed||c.emit("error",e)}});try{return void r.body.pipeTo(l).catch((function(e){o.clearTimeout(u),c._destroyed||c.emit("error",e)}))}catch(e){}}var h=r.body.getReader();!function e(){h.read().then((function(t){if(!c._destroyed){if(t.done)return o.clearTimeout(u),void c.push(null);c.push(new n(t.value)),e()}})).catch((function(e){o.clearTimeout(u),c._destroyed||c.emit("error",e)}))}()}else{if(c._xhr=t,c._pos=0,c.url=t.responseURL,c.statusCode=t.status,c.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===c.headers[r]&&(c.headers[r]=[]),c.headers[r].push(t[2])):void 0!==c.headers[r]?c.headers[r]+=", "+t[2]:c.headers[r]=t[2],c.rawHeaders.push(t[1],t[2])}})),c._charset="x-user-defined",!i.overrideMimeType){var f=c.rawHeaders["mime-type"];if(f){var p=f.match(/;\s*charset=([^;])(;|$)/);p&&(c._charset=p[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};a(c,s.Readable),c.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},c.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==u.DONE)break;try{r=new o.VBArray(t.responseBody).toArray()}catch(e){}if(null!==r){e.push(new n(r));break}case"text":try{r=t.responseText}catch(t){e._mode="text:vbarray";break}if(r.length>e._pos){var i=r.substr(e._pos);if("x-user-defined"===e._charset){for(var a=new n(i.length),s=0;s<i.length;s++)a[s]=255&i.charCodeAt(s);e.push(a)}else e.push(i,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==u.DONE||!t.response)break;r=t.response,e.push(new n(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==u.LOADING||!r)break;e.push(new n(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==u.LOADING)break;var c=new o.MSStreamReader;c.onprogress=function(){c.result.byteLength>e._pos&&(e.push(new n(new Uint8Array(c.result.slice(e._pos)))),e._pos=c.result.byteLength)},c.onload=function(){e.push(null)},c.readAsArrayBuffer(r)}e._xhr.readyState===u.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,r(4),r(7).Buffer,r(2))},function(e,t,r){(t=e.exports=r(46)).Stream=t,t.Readable=t,t.Writable=r(50),t.Duplex=r(5),t.Transform=r(52),t.PassThrough=r(120)},function(e,t,r){"use strict";(function(t,n){var o=r(11);e.exports=y;var i,a=r(42);y.ReadableState=v;r(47).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=r(48),c=r(12).Buffer,l=t.Uint8Array||function(){};var h=Object.create(r(8));h.inherits=r(3);var f=r(114),p=void 0;p=f&&f.debuglog?f.debuglog("stream"):function(){};var d,_=r(115),g=r(49);h.inherits(y,u);var m=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var n=t instanceof(i=i||r(5));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(51).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function y(e){if(i=i||r(5),!(this instanceof y))return new y(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function b(e,t,r,n,o){var i,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,w(e)}(e,a)):(o||(i=function(e,t){var r;n=t,c.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(a,t)),i?e.emit("error",i):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):E(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?E(e,a,t,!1):O(e,a)):E(e,a,t,!1))):n||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function E(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&w(e)),O(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),b(this,e,t,!1,r)},y.prototype.unshift=function(e){return b(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return d||(d=r(51).StringDecoder),this._readableState.decoder=new d(e),this._readableState.encoding=e,this};function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function w(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?o.nextTick(S,e):S(e))}function S(e){p("emit readable"),e.emit("readable"),R(e)}function O(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(A,e,t))}function A(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function P(e){p("readable nexttick read 0"),e.read(0)}function N(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),R(e),t.flowing&&!t.reading&&e.read(0)}function R(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,o=r.data;e-=o.length;for(;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(a===i.length?o+=i:o+=i.slice(0,e),0===(e-=a)){a===i.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(a));break}++n}return t.length-=n,o}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,o=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var i=n.data,a=e>i.length?i.length:e;if(i.copy(r,r.length-e,0,a),0===(e-=a)){a===i.length?(++o,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(a));break}++o}return t.length-=o,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function k(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,o.nextTick(M,t,e))}function M(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function I(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}y.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?k(this):w(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&k(this),null;var n,o=t.needReadable;return p("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",o=!0),t.ended||t.reading?p("reading or ended",o=!1):o&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(r,t))),null===(n=e>0?C(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&k(this)),null!==n&&this.emit("data",n),n},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,p("pipe count=%d opts=%j",i.pipesCount,t);var u=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?l:y;function c(t,n){p("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,p("cleanup"),e.removeListener("close",m),e.removeListener("finish",v),e.removeListener("drain",h),e.removeListener("error",g),e.removeListener("unpipe",c),r.removeListener("end",l),r.removeListener("end",y),r.removeListener("data",_),f=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function l(){p("onend"),e.end()}i.endEmitted?o.nextTick(u):r.once("end",u),e.on("unpipe",c);var h=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,R(e))}}(r);e.on("drain",h);var f=!1;var d=!1;function _(t){p("ondata"),d=!1,!1!==e.write(t)||d||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==I(i.pipes,e))&&!f&&(p("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function g(t){p("onerror",t),y(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",v),y()}function v(){p("onfinish"),e.removeListener("close",m),y()}function y(){p("unpipe"),r.unpipe(e)}return r.on("data",_),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",g),e.once("close",m),e.once("finish",v),e.emit("pipe",r),i.flowing||(p("pipe resume"),r.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)n[i].emit("unpipe",this,r);return this}var a=I(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},y.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&w(this):o.nextTick(P,this))}return r},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(N,e,t))}(this,e)),this},y.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var o in e.on("end",(function(){if(p("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){(p("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o)||(r.objectMode||o&&o.length)&&(t.push(o)||(n=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<m.length;i++)e.on(m[i],this.emit.bind(this,m[i]));return this._read=function(t){p("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=C}).call(this,r(2),r(4))},function(e,t,r){"use strict";var n,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function h(e,t,r,n){var o,i,a,s;if(c(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),a=i[t]),void 0===a)a=i[t]=r,++e._eventsCount;else if("function"==typeof a?a=i[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(o=l(e))>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=f.bind(n);return o.listener=r,n.wrapFn=o,o}function d(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):g(o,o.length)}function _(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)i(u,this,t);else{var c=u.length,l=g(u,c);for(r=0;r<c;++r)i(l[r],this,t)}return!0},s.prototype.addListener=function(e,t){return h(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return h(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,o,i,a;if(c(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){a=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):_.call(e,t)},s.prototype.listenerCount=_,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){e.exports=r(47).EventEmitter},function(e,t,r){"use strict";var n=r(11);function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return i||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(o,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";(function(t,n,o){var i=r(11);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var o=n.callback;t.pendingcb--,o(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=v;var s,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:i.nextTick;v.WritableState=m;var c=Object.create(r(8));c.inherits=r(3);var l={deprecate:r(119)},h=r(48),f=r(12).Buffer,p=o.Uint8Array||function(){};var d,_=r(49);function g(){}function m(e,t){s=s||r(5),e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var o=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),S(e,t))}(e,r,n,t,o);else{var a=T(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||E(e,r),n?u(b,e,r,a,o):b(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function v(e){if(s=s||r(5),!(d.call(v,this)||this instanceof s))return new v(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),h.call(this)}function y(e,t,r,n,o,i,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function b(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),S(e,t)}function E(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),i=t.corkedRequestsFree;i.entry=r;for(var s=0,u=!0;r;)o[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;o.allBuffers=u,y(e,t,!0,t.length,o,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,h=r.callback;if(y(e,t,!1,t.objectMode?1:c.length,c,l,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var r=T(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(w,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}c.inherits(v,h),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!d.call(this,e)||this===v&&(e&&e._writableState instanceof m)}})):d=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,f.isBuffer(n)||n instanceof p);return s&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=g),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i.nextTick(n,a),o=!1),o}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,o,i){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,r));return t}(t,n,o);n!==a&&(r=!0,o="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:i,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,n,o,i);return u}(this,o,s,e,t,r)),a},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||E(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,S(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=_.destroy,v.prototype._undestroy=_.undestroy,v.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r(4),r(117).setImmediate,r(2))},function(e,t,r){"use strict";var n=r(12).Buffer,o=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},i.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var o=a(t[n]);if(o>=0)return o>0&&(e.lastNeed=o-1),o;if(--n<r||-2===o)return 0;if((o=a(t[n]))>=0)return o>0&&(e.lastNeed=o-2),o;if(--n<r||-2===o)return 0;if((o=a(t[n]))>=0)return o>0&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";e.exports=a;var n=r(5),o=Object.create(r(8));function i(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){u(e,t,r)})):u(this,null,null)}function u(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}o.inherits=r(3),o.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OT_REQUEST_HEADER="x-opentelemetry-outgoing-request"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=void 0;var n=r(13),o=r(10),i=r(98),a=r(103),s=r(109),u=r(0),c=r(133),l=r(137),h=r(53);t.initialize=function(e){var t=e.collectionSourceUrl,r=e.serviceName,f=new o.WebTracerProvider({plugins:[new c.DocumentLoad,new l.UserInteractionPlugin,new i.XMLHttpRequestPlugin({propagateTraceHeaderCorsUrls:/.*/})]});f.register({contextManager:new a.ZoneContextManager,propagator:new u.HttpTraceContext});var p=new s.ZipkinExporter({url:t,serviceName:null!=r?r:"unknown"});delete p._reqOpts.headers[h.OT_REQUEST_HEADER],f.addSpanProcessor(new n.BatchSpanProcessor(p,{bufferSize:100,bufferTimeout:2e3}))};var f=document.currentScript;if(f){var p=f.dataset,d=p.collectionSourceUrl,_=p.serviceName;if(!d)throw new Error("data-collection-source-url needs to be defined to properly set up SumoLogic JS autoinstrumentation");t.initialize({collectionSourceUrl:d,serviceName:_})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),o=r(0),i=r(34),a=r(85);t.Tracer=class{constructor(e,t){this._tracerProvider=t;const r=a.mergeConfig(e);this._defaultAttributes=r.defaultAttributes,this._sampler=r.sampler,this._traceParams=r.traceParams,this.resource=t.resource,this.logger=e.logger||new o.ConsoleLogger(e.logLevel)}startSpan(e,t={},r=n.context.active()){const a=function(e,t){return null===e.parent?void 0:e.parent?function(e){return function(e){return"function"==typeof e.context}(e)?e.context():e}(e.parent):o.getParentSpanContext(t)}(t,r),s=this._sampler.shouldSample(a),u=o.randomSpanId();let c,l;a&&o.isValid(a)?(c=a.traceId,l=a.traceState):c=o.randomTraceId();const h={traceId:c,spanId:u,traceFlags:s?n.TraceFlags.SAMPLED:n.TraceFlags.NONE,traceState:l};if(!s)return this.logger.debug("Sampling is off, starting no recording span"),new o.NoRecordingSpan(h);const f=new i.Span(this,e,h,t.kind||n.SpanKind.INTERNAL,a?a.spanId:void 0,t.links||[],t.startTime);return f.setAttributes(Object.assign({},this._defaultAttributes,t.attributes)),f}getCurrentSpan(){const e=n.context.active();return o.getActiveSpan(e)}withSpan(e,t){return n.context.with(o.setActiveSpan(n.context.active(),e),t)}bind(e,t){return n.context.bind(e,t?o.setActiveSpan(n.context.active(),t):n.context.active())}getActiveTraceParams(){return this._traceParams}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NO_PROPAGATION=0]="NO_PROPAGATION",e[e.UNLIMITED_PROPAGATION=-1]="UNLIMITED_PROPAGATION"}(t.EntryTtl||(t.EntryTtl={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(t.ValueType||(t.ValueType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(t.SpanKind||(t.SpanKind={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(t.CanonicalCode||(t.CanonicalCode={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(25);t.NoopContextManager=class{active(){return n.Context.ROOT_CONTEXT}with(e,t){return t()}bind(e,t){return e}enable(){return this}disable(){return this}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(62))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis="object"==typeof globalThis?globalThis:window},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(24),o=r(9);class i{constructor(){}static getInstance(){return this._instance||(this._instance=new i),this._instance}setGlobalTracerProvider(e){return o._global[o.GLOBAL_TRACE_API_KEY]||(o._global[o.GLOBAL_TRACE_API_KEY]=o.makeGetter(o.API_BACKWARDS_COMPATIBILITY_VERSION,e,n.NOOP_TRACER_PROVIDER)),this.getTracerProvider()}getTracerProvider(){var e,t,r;return null!=(r=null===(t=(e=o._global)[o.GLOBAL_TRACE_API_KEY])||void 0===t?void 0:t.call(e,o.API_BACKWARDS_COMPATIBILITY_VERSION))?r:n.NOOP_TRACER_PROVIDER}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){delete o._global[o.GLOBAL_TRACE_API_KEY]}}t.TraceAPI=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(20),o=r(9);class i{constructor(){}static getInstance(){return this._instance||(this._instance=new i),this._instance}setGlobalMeterProvider(e){return o._global[o.GLOBAL_METRICS_API_KEY]?this.getMeterProvider():(o._global[o.GLOBAL_METRICS_API_KEY]=o.makeGetter(o.API_BACKWARDS_COMPATIBILITY_VERSION,e,n.NOOP_METER_PROVIDER),e)}getMeterProvider(){var e,t,r;return null!=(r=null===(t=(e=o._global)[o.GLOBAL_METRICS_API_KEY])||void 0===t?void 0:t.call(e,o.API_BACKWARDS_COMPATIBILITY_VERSION))?r:n.NOOP_METER_PROVIDER}getMeter(e,t){return this.getMeterProvider().getMeter(e,t)}disable(){delete o._global[o.GLOBAL_METRICS_API_KEY]}}t.MetricsAPI=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(16),o=r(17),i=r(18),a=r(26),s=r(9),u=a.ContextAPI.getInstance();class c{constructor(){}static getInstance(){return this._instance||(this._instance=new c),this._instance}setGlobalPropagator(e){return s._global[s.GLOBAL_PROPAGATION_API_KEY]?this._getGlobalPropagator():(s._global[s.GLOBAL_PROPAGATION_API_KEY]=s.makeGetter(s.API_BACKWARDS_COMPATIBILITY_VERSION,e,o.NOOP_HTTP_TEXT_PROPAGATOR),e)}inject(e,t=i.defaultSetter,r=u.active()){return this._getGlobalPropagator().inject(r,e,t)}extract(e,t=n.defaultGetter,r=u.active()){return this._getGlobalPropagator().extract(r,e,t)}disable(){delete s._global[s.GLOBAL_PROPAGATION_API_KEY]}_getGlobalPropagator(){var e,t,r;return null!=(r=null===(t=(e=s._global)[s.GLOBAL_PROPAGATION_API_KEY])||void 0===t?void 0:t.call(e,s.API_BACKWARDS_COMPATIBILITY_VERSION))?r:o.NOOP_HTTP_TEXT_PROPAGATOR}}t.PropagationAPI=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(27);t.ConsoleLogger=class{constructor(e=n.LogLevel.INFO){e>=n.LogLevel.DEBUG&&(this.debug=(...e)=>{console.debug(...e)}),e>=n.LogLevel.INFO&&(this.info=(...e)=>{console.info(...e)}),e>=n.LogLevel.WARN&&(this.warn=(...e)=>{console.warn(...e)}),e>=n.LogLevel.ERROR&&(this.error=(...e)=>{console.error(...e)})}debug(e,...t){}error(e,...t){}warn(e,...t){}info(e,...t){}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(29),o=Math.pow(10,9);function i(e){const t=e/1e3,r=Math.trunc(t);return[r,Number((t-r).toFixed(9))*o]}function a(){let e=n.otperformance.timeOrigin;if("number"!=typeof e){const t=n.otperformance;e=t.timing&&t.timing.fetchStart}return e}function s(e){const t=i(a()),r=i("number"==typeof e?e:n.otperformance.now());let s=t[0]+r[0],u=t[1]+r[1];return u>o&&(u-=o,s+=1),[s,u]}function u(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}t.hrTime=s,t.timeInputToHrTime=function(e){if(u(e))return e;if("number"==typeof e)return e<a()?s(e):i(e);if(e instanceof Date)return[e.getTime(),0];throw TypeError("Invalid input type")},t.hrTimeDuration=function(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=o),[r,n]},t.hrTimeToTimeStamp=function(e){const t=`${"0".repeat(9)}${e[1]}Z`,r=t.substr(t.length-9-1);return new Date(1e3*e[0]).toISOString().replace("000Z",r)},t.hrTimeToNanoseconds=function(e){return e[0]*o+e[1]},t.hrTimeToMilliseconds=function(e){return Math.round(1e3*e[0]+e[1]/1e6)},t.hrTimeToMicroseconds=function(e){return Math.round(1e6*e[0]+e[1]/1e3)},t.isTimeInputHrTime=u,t.isTimeInput=function(e){return u(e)||"number"==typeof e||e instanceof Date}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(69);class o extends n.BaseAbstractPlugin{enable(e,t,r,n){return this._moduleExports=e,this._tracer=t.getTracer(this._tracerName,this._tracerVersion),this._logger=r,n&&(this._config=n),this.patch()}}t.BasePlugin=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BaseAbstractPlugin=class{constructor(e,t){this._tracerName=e,this._tracerVersion=t}disable(){this.unpatch()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToBase64=function(e){const t=e.length;let r="";for(let n=0;n<t;n+=2){const t=e.substring(n,n+2),o=parseInt(t,16);r+=String.fromCharCode(o)}return btoa(r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=window.crypto||window.msCrypto,o=new Uint8Array(16);function i(e){const t=new Array(2*e.length),r="a".charCodeAt(0)-10,n="0".charCodeAt(0);let o=0;for(let i=0;i<e.length;i++){let a=e[i]>>>4&15;t[o++]=a>9?a+r:a+n,a=15&e[i],t[o++]=a>9?a+r:a+n}return String.fromCharCode.apply(null,t)}t.randomTraceId=function(){return n.getRandomValues(o),i(o.slice(0,16))},t.randomSpanId=function(){return n.getRandomValues(o),i(o.slice(0,8))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.otperformance=performance},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(30);t.SDK_INFO={NAME:"opentelemetry",RUNTIME:"browser",LANGUAGE:"webjs",VERSION:n.VERSION}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unrefTimer=function(e){}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED_NOT_RETRYABLE=1]="FAILED_NOT_RETRYABLE",e[e.FAILED_RETRYABLE=2]="FAILED_RETRYABLE"}(t.ExportResult||(t.ExportResult={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),o=r(14);t.X_B3_TRACE_ID="x-b3-traceid",t.X_B3_SPAN_ID="x-b3-spanid",t.X_B3_SAMPLED="x-b3-sampled";const i=/^([0-9a-f]{16}){1,2}$/i,a=/^[0-9a-f]{16}$/i,s=/^0+$/i;function u(e){return i.test(e)&&!s.test(e)}function c(e){return a.test(e)&&!s.test(e)}t.B3Propagator=class{inject(e,r,i){const a=o.getParentSpanContext(e);a&&u(a.traceId)&&c(a.spanId)&&(i(r,t.X_B3_TRACE_ID,a.traceId),i(r,t.X_B3_SPAN_ID,a.spanId),void 0!==a.traceFlags&&i(r,t.X_B3_SAMPLED,(n.TraceFlags.SAMPLED&a.traceFlags)===n.TraceFlags.SAMPLED?"1":"0"))}extract(e,r,i){const a=i(r,t.X_B3_TRACE_ID),s=i(r,t.X_B3_SPAN_ID),l=i(r,t.X_B3_SAMPLED),h=Array.isArray(a)?a[0]:a,f=Array.isArray(s)?s[0]:s,p=Array.isArray(l)?l[0]:l;if("string"!=typeof h||"string"!=typeof f)return e;const d=h.padStart(32,"0");return u(d)&&c(f)?o.setExtractedSpanContext(e,{traceId:d,spanId:f,isRemote:!0,traceFlags:isNaN(Number(p))?n.TraceFlags.NONE:Number(p)}):e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(28);t.CompositePropagator=class{constructor(e={}){var t,r;this._propagators=null!=(t=e.propagators)?t:[],this._logger=null!=(r=e.logger)?r:new n.NoopLogger}inject(e,t,r){for(const n of this._propagators)try{n.inject(e,t,r)}catch(e){this._logger.warn(`Failed to inject with ${n.constructor.name}. Err: ${e.message}`)}}extract(e,t,r){return this._propagators.reduce((e,n)=>{try{return n.extract(e,t,r)}catch(e){this._logger.warn(`Failed to inject with ${n.constructor.name}. Err: ${e.message}`)}return e},e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),o=r(31),i=r(14);t.TRACE_PARENT_HEADER="traceparent",t.TRACE_STATE_HEADER="tracestate";const a=/^00-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})$/;function s(e){const t=e.match(a);return t&&"00000000000000000000000000000000"!==t[1]&&"0000000000000000"!==t[2]?{traceId:t[1],spanId:t[2],traceFlags:parseInt(t[3],16)}:null}t.parseTraceParent=s;t.HttpTraceContext=class{inject(e,r,o){const a=i.getParentSpanContext(e);if(!a)return;const s=`00-${a.traceId}-${a.spanId}-0${Number(a.traceFlags||n.TraceFlags.NONE).toString(16)}`;o(r,t.TRACE_PARENT_HEADER,s),a.traceState&&o(r,t.TRACE_STATE_HEADER,a.traceState.serialize())}extract(e,r,n){const a=n(r,t.TRACE_PARENT_HEADER);if(!a)return e;const u=Array.isArray(a)?a[0]:a;if("string"!=typeof u)return e;const c=s(u);if(!c)return e;c.isRemote=!0;const l=n(r,t.TRACE_STATE_HEADER);if(l){const e=Array.isArray(l)?l.join(","):l;c.traceState=new o.TraceState("string"==typeof e?e:void 0)}return i.setExtractedSpanContext(e,c)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=new RegExp("^(?:[a-z][_0-9a-z-*/]{0,255}|[a-z0-9][_0-9a-z-*/]{0,240}@[a-z][_0-9a-z-*/]{0,13})$"),o=/^[ -~]{0,255}[!-~]$/,i=/,|=/;t.validateKey=function(e){return n.test(e)},t.validateValue=function(e){return o.test(e)&&!i.test(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(32);t.CORRELATION_CONTEXT_HEADER="otcorrelations",t.MAX_NAME_VALUE_PAIRS=180,t.MAX_PER_NAME_VALUE_PAIRS=4096,t.MAX_TOTAL_LENGTH=8192;t.HttpCorrelationContext=class{inject(e,r,o){const i=n.getCorrelationContext(e);if(!i)return;const a=this._getKeyPairs(i).filter(e=>e.length<=t.MAX_PER_NAME_VALUE_PAIRS).slice(0,t.MAX_NAME_VALUE_PAIRS),s=this._serializeKeyPairs(a);s.length>0&&o(r,t.CORRELATION_CONTEXT_HEADER,s)}_serializeKeyPairs(e){return e.reduce((e,r)=>{const n=`${e}${""!=e?",":""}${r}`;return n.length>t.MAX_TOTAL_LENGTH?e:n},"")}_getKeyPairs(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t].value)}`)}extract(e,r,o){const i=o(r,t.CORRELATION_CONTEXT_HEADER);if(!i)return e;const a={};if(0==i.length)return e;const s=i.split(",");return 1==s.length?e:(s.forEach(e=>{const t=this._parsePairKeyValue(e);t&&(a[t.key]={value:t.value})}),n.setCorrelationContext(e,a))}_parsePairKeyValue(e){const t=e.split(";");if(t.length<=0)return;const r=t.shift();if(!r)return;const n=r.split("=");if(n.length<=1)return;const o=decodeURIComponent(n[0].trim());let i=decodeURIComponent(n[1].trim());return t.length>0&&(i=i+";"+t.join(";")),{key:o,value:i}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),o=r(33);class i extends n.NoopSpan{constructor(e){super(e),this._context=e||o.INVALID_SPAN_CONTEXT}context(){return this._context}}t.NoRecordingSpan=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);class o{constructor(e=0){this._probability=e,this._probability=this._normalize(e)}shouldSample(e){return e&&void 0!==e.traceFlags?(n.TraceFlags.SAMPLED&e.traceFlags)===n.TraceFlags.SAMPLED:this._probability>=1||!(this._probability<=0)&&Math.random()<this._probability}toString(){return`ProbabilitySampler{${this._probability}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}}t.ProbabilitySampler=o,t.ALWAYS_SAMPLER=new o(1),t.NEVER_SAMPLER=new o(0)},function(e,t,r){"use strict";function n(e,t){return"string"==typeof t?e===t:!!e.match(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.urlMatches=n,t.isUrlIgnored=function(e,t){if(!t)return!1;for(const r of t)if(n(e,r))return!0;return!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWrapped=function(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(35);t.mergeConfig=function(e){const t=e.traceParams,r=Object.assign({},n.DEFAULT_CONFIG,e);return t&&(r.traceParams.numberOfAttributesPerSpan=t.numberOfAttributesPerSpan||n.DEFAULT_MAX_ATTRIBUTES_PER_SPAN,r.traceParams.numberOfEventsPerSpan=t.numberOfEventsPerSpan||n.DEFAULT_MAX_EVENTS_PER_SPAN,r.traceParams.numberOfLinksPerSpan=t.numberOfLinksPerSpan||n.DEFAULT_MAX_LINKS_PER_SPAN),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),o=r(0),i=r(13),a=r(35),s=r(87),u=r(88),c=r(89);t.BasicTracerProvider=class{constructor(e=a.DEFAULT_CONFIG){var t,r;this._registeredSpanProcessors=[],this._tracers=new Map,this.activeSpanProcessor=new u.NoopSpanProcessor,this.logger=null!=(t=e.logger)?t:new o.ConsoleLogger(e.logLevel),this.resource=null!=(r=e.resource)?r:c.Resource.createTelemetrySDKResource(),this._config=Object.assign({},e,{logger:this.logger,resource:this.resource})}getTracer(e,t="*",r){const n=`${e}@${t}`;return this._tracers.has(n)||this._tracers.set(n,new i.Tracer(r||this._config,this)),this._tracers.get(n)}addSpanProcessor(e){this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new s.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){n.trace.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=new o.HttpTraceContext),e.contextManager&&n.context.setGlobalContextManager(e.contextManager),e.propagator&&n.propagation.setGlobalPropagator(e.propagator)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MultiSpanProcessor=class{constructor(e){this._spanProcessors=e}forceFlush(){for(const e of this._spanProcessors)e.forceFlush()}onStart(e){for(const t of this._spanProcessors)t.onStart(e)}onEnd(e){for(const t of this._spanProcessors)t.onEnd(e)}shutdown(){for(const e of this._spanProcessors)e.shutdown()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NoopSpanProcessor=class{onStart(e){}onEnd(e){}shutdown(){}forceFlush(){}}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(36)),n(r(90)),n(r(37))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(91))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(36);t.detectResources=async()=>n.Resource.createTelemetrySDKResource()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);t.ConsoleSpanExporter=class{export(e,t){return this._sendSpans(e,t)}shutdown(){return this._sendSpans([])}_exportInfo(e){return{traceId:e.spanContext.traceId,parentId:e.parentSpanId,name:e.name,id:e.spanContext.spanId,kind:e.kind,timestamp:n.hrTimeToMicroseconds(e.startTime),duration:n.hrTimeToMicroseconds(e.duration),attributes:e.attributes,status:e.status,events:e.events}}_sendSpans(e,t){for(const t of e)console.log(this._exportInfo(t));if(t)return t(n.ExportResult.SUCCESS)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);t.BatchSpanProcessor=class{constructor(e,t){this._exporter=e,this._finishedSpans=[],this._isShutdown=!1,this._bufferSize=t&&t.bufferSize?t.bufferSize:100,this._bufferTimeout=t&&"number"==typeof t.bufferTimeout?t.bufferTimeout:2e4}forceFlush(){this._isShutdown||this._flush()}onStart(e){}onEnd(e){this._isShutdown||this._addToBuffer(e)}shutdown(){this._isShutdown||(this.forceFlush(),this._isShutdown=!0,this._exporter.shutdown())}_addToBuffer(e){this._finishedSpans.push(e),this._maybeStartTimer(),this._finishedSpans.length>this._bufferSize&&this._flush()}_flush(){this._clearTimer(),0!==this._finishedSpans.length&&(this._exporter.export(this._finishedSpans,()=>{}),this._finishedSpans=[])}_maybeStartTimer(){void 0===this._timer&&(this._timer=setTimeout(()=>{this._flush()},this._bufferTimeout),n.unrefTimer(this._timer))}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);t.InMemorySpanExporter=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,t){return this._stopped?t(n.ExportResult.FAILED_NOT_RETRYABLE):(this._finishedSpans.push(...e),t(n.ExportResult.SUCCESS))}shutdown(){this._stopped=!0,this._finishedSpans=[]}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SimpleSpanProcessor=class{constructor(e){this._exporter=e,this._isShutdown=!1}forceFlush(){}onStart(e){}onEnd(e){this._isShutdown||this._exporter.export([e],()=>{})}shutdown(){this._isShutdown||(this._isShutdown=!0,this._exporter.shutdown())}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(13),o=r(38);class i extends n.BasicTracerProvider{constructor(e={}){void 0===e.plugins&&(e.plugins=[]),super(e);for(const t of e.plugins)t.enable([],this,this.logger);if(e.contextManager)throw"contextManager should be defined in register method not in constructor";if(e.propagator)throw"propagator should be defined in register method not in constructor"}register(e={}){void 0===e.contextManager&&(e.contextManager=new o.StackContextManager),e.contextManager&&e.contextManager.enable(),super.register(e)}}t.WebTracerProvider=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(39),o=r(0);function i(e,t){return t in e}function a(e){return e.slice().sort((e,t)=>{const r=e[n.PerformanceTimingNames.FETCH_START],o=t[n.PerformanceTimingNames.FETCH_START];return r>o?1:r<o?-1:0})}function s(e){const t=document.createElement("a");return t.href=e,t}t.hasKey=i,t.addSpanNetworkEvent=function(e,t,r){if(i(r,t)&&"number"==typeof r[t]){if(0===r[t])return;return e.addEvent(t,r[t]),e}},t.sortResources=a,t.getResource=function(e,t,r,i,u=new WeakSet){const c=function(e,t,r,i,a){const s=o.hrTimeToNanoseconds(t),u=o.hrTimeToNanoseconds(r);let c=i.filter(t=>{const r=o.hrTimeToNanoseconds(o.timeInputToHrTime(t[n.PerformanceTimingNames.FETCH_START])),i=o.hrTimeToNanoseconds(o.timeInputToHrTime(t[n.PerformanceTimingNames.RESPONSE_END]));return"xmlhttprequest"===t.initiatorType.toLowerCase()&&t.name===e&&r>=s&&i<=u});c.length>0&&(c=c.filter(e=>!a.has(e)));return c}(e,t,r,i,u);if(0===c.length)return{mainRequest:void 0};if(1===c.length)return{mainRequest:c[0]};const l=a(c.slice());if(s(e).origin!==window.location.origin&&l.length>1){let e=l[0],t=function(e,t,r){const i=o.hrTimeToNanoseconds(r),a=o.hrTimeToNanoseconds(o.timeInputToHrTime(t));let s,u=e[1];const c=e.length;for(let t=1;t<c;t++){const r=e[t],c=o.hrTimeToNanoseconds(o.timeInputToHrTime(r[n.PerformanceTimingNames.FETCH_START])),l=o.hrTimeToNanoseconds(o.timeInputToHrTime(r[n.PerformanceTimingNames.RESPONSE_END])),h=i-l;c>=a&&(!s||h<s)&&(s=h,u=r)}return u}(l,e[n.PerformanceTimingNames.RESPONSE_END],r);const i=e[n.PerformanceTimingNames.RESPONSE_END];return t[n.PerformanceTimingNames.FETCH_START]<i&&(t=e,e=void 0),{corsPreFlightRequest:e,mainRequest:t}}return{mainRequest:c[0]}},t.parseUrl=s,t.getElementXPath=function e(t,r){if(t.nodeType===Node.DOCUMENT_NODE)return"/";const n=function(e,t){const r=e.nodeType,n=function(e){if(!e.parentNode)return 0;const t=[e.nodeType];e.nodeType===Node.CDATA_SECTION_NODE&&t.push(Node.TEXT_NODE);let r=Array.from(e.parentNode.childNodes);if(r=r.filter(r=>{const n=r.localName;return t.indexOf(r.nodeType)>=0&&n===e.localName}),r.length>=1)return r.indexOf(e)+1;return 0}(e);let o="";if(r===Node.ELEMENT_NODE){const r=e.getAttribute("id");if(t&&r)return`//*[@id="${r}"]`;o=e.localName}else if(r===Node.TEXT_NODE||r===Node.CDATA_SECTION_NODE)o="text()";else{if(r!==Node.COMMENT_NODE)return"";o="comment()"}if(o&&n>1)return`/${o}[${n}]`;return"/"+o}(t,r);if(r&&n.indexOf("@id")>0)return n;let o="";return t.parentNode&&(o+=e(t.parentNode,!1)),o+=n,o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(99))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),o=r(0),i=r(10),a=r(40),s=r(100),u=r(101),c=r(102);class l extends o.BasePlugin{constructor(e={}){super("@opentelemetry/plugin-xml-http-request",c.VERSION),this._config=e,this.component="xml-http-request",this.version=c.VERSION,this.moduleName=this.component,this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet}_addHeaders(e,t){if(!this._shouldPropagateTraceHeaders(t))return;const r={};n.propagation.inject(r),Object.keys(r).forEach(t=>{e.setRequestHeader(t,String(r[t]))})}_shouldPropagateTraceHeaders(e){let t=this._config.propagateTraceHeaderCorsUrls||[];("string"==typeof t||t instanceof RegExp)&&(t=[t]);if(i.parseUrl(e).origin===window.location.origin)return!0;for(const r of t)if(o.urlMatches(e,r))return!0;return!1}_addChildSpan(e,t){this._tracer.withSpan(e,()=>{const e=this._tracer.startSpan("CORS Preflight",{startTime:t[i.PerformanceTimingNames.FETCH_START]});this._addSpanNetworkEvents(e,t),e.end(t[i.PerformanceTimingNames.RESPONSE_END])})}_addFinalSpanAttributes(e,t,r){if("string"==typeof r){const n=i.parseUrl(r);e.setAttribute(s.AttributeNames.HTTP_STATUS_CODE,t.status),e.setAttribute(s.AttributeNames.HTTP_STATUS_TEXT,t.statusText),e.setAttribute(s.AttributeNames.HTTP_HOST,n.host),e.setAttribute(s.AttributeNames.HTTP_SCHEME,n.protocol.replace(":","")),e.setAttribute(s.AttributeNames.HTTP_USER_AGENT,navigator.userAgent)}}_addSpanNetworkEvents(e,t){i.addSpanNetworkEvent(e,i.PerformanceTimingNames.FETCH_START,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.DOMAIN_LOOKUP_START,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.DOMAIN_LOOKUP_END,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.CONNECT_START,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.SECURE_CONNECTION_START,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.CONNECT_END,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.REQUEST_START,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.RESPONSE_START,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.RESPONSE_END,t)}_addResourceObserver(e,t){const r=this._xhrMem.get(e);r&&void 0!==window.PerformanceObserver&&(r.createdResources={observer:new PerformanceObserver(e=>{e.getEntries().forEach(e=>{"xmlhttprequest"===e.initiatorType&&e.name===t&&r.createdResources&&r.createdResources.entries.push(e)})}),entries:[]},r.createdResources.observer.observe({entryTypes:["resource"]}))}_clearResources(){0===this._tasksCount&&this._config.clearTimingResources&&(o.otperformance.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)}_findResourceAndAddNetworkEvents(e,t,r,n,a){if(!(r&&n&&a&&e.createdResources))return;let s=e.createdResources.entries;s&&s.length||(s=o.otperformance.getEntriesByType("resource"));const u=i.getResource(r,n,a,s,this._usedResources);if(u.mainRequest){const e=u.mainRequest;this._markResourceAsUsed(e);const r=u.corsPreFlightRequest;r&&(this._addChildSpan(t,r),this._markResourceAsUsed(r)),this._addSpanNetworkEvents(t,e)}}_cleanPreviousSpanInformation(e){const t=this._xhrMem.get(e);if(t){const r=t.callbackToRemoveEvents;r&&r(),this._xhrMem.delete(e)}}_createSpan(e,t,r){if(o.isUrlIgnored(t,this._config.ignoreUrls))return void this._logger.debug("ignoring span as url matches ignored url");const i=this._tracer.startSpan(t,{kind:n.SpanKind.CLIENT,attributes:{[s.AttributeNames.COMPONENT]:this.component,[s.AttributeNames.HTTP_METHOD]:r,[s.AttributeNames.HTTP_URL]:t}});return i.addEvent(u.EventNames.METHOD_OPEN),this._cleanPreviousSpanInformation(e),this._xhrMem.set(e,{span:i,spanUrl:t}),i}_markResourceAsUsed(e){this._usedResources.add(e)}_patchOpen(){return e=>{const t=this;return function(...r){const n=r[0],o=r[1];return!!r[2]?t._createSpan(this,o,n):t._logger.debug("tracing support for synchronous XMLHttpRequest calls is not supported"),e.apply(this,r)}}}_patchSend(){const e=this;function t(t,r){const n=e._xhrMem.get(r);if(!n)return;n.status=r.status,n.statusText=r.statusText,e._xhrMem.delete(r);const i=o.hrTime();setTimeout(()=>{!function(t,r,n){const o=r.callbackToRemoveEvents;"function"==typeof o&&o();const{span:i,spanUrl:a,sendStartTime:s}=r;i&&(e._findResourceAndAddNetworkEvents(r,i,a,s,n),i.addEvent(t,n),e._addFinalSpanAttributes(i,r,a),i.end(n),e._tasksCount--),e._clearResources()}(t,n,i)},300)}function r(){t(u.EventNames.EVENT_ERROR,this)}function n(){t(u.EventNames.EVENT_ABORT,this)}function i(){t(u.EventNames.EVENT_TIMEOUT,this)}function a(){this.status<299?t(u.EventNames.EVENT_LOAD,this):t(u.EventNames.EVENT_ERROR,this)}return t=>function(...s){const c=e._xhrMem.get(this);if(!c)return t.apply(this,s);const l=c.span,h=c.spanUrl;return l&&h&&e._tracer.withSpan(l,()=>{e._tasksCount++,c.sendStartTime=o.hrTime(),l.addEvent(u.EventNames.METHOD_SEND),this.addEventListener("abort",n),this.addEventListener("error",r),this.addEventListener("load",a),this.addEventListener("timeout",i),c.callbackToRemoveEvents=()=>{!function(t){t.removeEventListener("abort",n),t.removeEventListener("error",r),t.removeEventListener("load",a),t.removeEventListener("timeout",i);const o=e._xhrMem.get(t);o&&(o.callbackToRemoveEvents=void 0)}(this),c.createdResources&&c.createdResources.observer.disconnect()},e._addHeaders(this,h),e._addResourceObserver(this,h)}),t.apply(this,s)}}patch(){return this._logger.debug("applying patch to",this.moduleName,this.version),o.isWrapped(XMLHttpRequest.prototype.open)&&(a.unwrap(XMLHttpRequest.prototype,"open"),this._logger.debug("removing previous patch from method open")),o.isWrapped(XMLHttpRequest.prototype.send)&&(a.unwrap(XMLHttpRequest.prototype,"send"),this._logger.debug("removing previous patch from method send")),a.wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),a.wrap(XMLHttpRequest.prototype,"send",this._patchSend()),this._moduleExports}unpatch(){this._logger.debug("removing patch from",this.moduleName,this.version),a.unwrap(XMLHttpRequest.prototype,"open"),a.unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet}}t.XMLHttpRequestPlugin=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.COMPONENT="component",e.HTTP_HOST="http.host",e.HTTP_FLAVOR="http.flavor",e.HTTP_METHOD="http.method",e.HTTP_SCHEME="http.scheme",e.HTTP_STATUS_CODE="http.status_code",e.HTTP_STATUS_TEXT="http.status_text",e.HTTP_URL="http.url",e.HTTP_USER_AGENT="http.user_agent"}(t.AttributeNames||(t.AttributeNames={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.METHOD_OPEN="open",e.METHOD_SEND="send",e.EVENT_ABORT="abort",e.EVENT_ERROR="error",e.EVENT_LOAD="loaded",e.EVENT_TIMEOUT="timeout"}(t.EventNames||(t.EventNames={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION="0.8.3"},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(104),t),r(108)},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(105),t),o(r(107),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZoneContextManager=void 0;const n=r(6),o=r(106);t.ZoneContextManager=class{constructor(){this._enabled=!1,this._zoneCounter=0}_activeContextFromZone(e){return e&&e.get("OT_ZONE_CONTEXT")||n.Context.ROOT_CONTEXT}_bindFunction(e,t){const r=this,n=function(...n){return r.with(t,()=>e.apply(this,n))};return Object.defineProperty(n,"length",{enumerable:!1,configurable:!0,writable:!1,value:e.length}),n}_bindListener(e,t){const r=e;return void 0!==r.__ot_listeners||(r.__ot_listeners={},"function"==typeof r.addEventListener&&(r.addEventListener=this._patchAddEventListener(r,r.addEventListener,t)),"function"==typeof r.removeEventListener&&(r.removeEventListener=this._patchRemoveEventListener(r,r.removeEventListener))),e}_createZoneName(){this._zoneCounter++;const e=Math.random();return`${this._zoneCounter}-${e}`}_createZone(e,t){return Zone.root.fork({name:e,properties:{OT_ZONE_CONTEXT:t}})}_getActiveZone(){return Zone.current}_patchAddEventListener(e,t,r){const n=this;return function(o,i,a){void 0===e.__ot_listeners&&(e.__ot_listeners={});let s=e.__ot_listeners[o];void 0===s&&(s=new WeakMap,e.__ot_listeners[o]=s);const u=n.bind(i,r);return s.set(i,u),t.call(this,o,u,a)}}_patchRemoveEventListener(e,t){return function(r,n){if(void 0===e.__ot_listeners||void 0===e.__ot_listeners[r])return t.call(this,r,n);const o=e.__ot_listeners[r],i=o.get(n);return o.delete(n),t.call(this,r,i||n)}}active(){if(!this._enabled)return n.Context.ROOT_CONTEXT;const e=this._getActiveZone(),t=this._activeContextFromZone(e);return t||n.Context.ROOT_CONTEXT}bind(e,t){return void 0===t&&(t=this.active()),"function"==typeof e?this._bindFunction(e,t):(o.isListenerObject(e)&&this._bindListener(e,t),e)}disable(){return this._enabled=!1,this}enable(){return this._enabled=!0,this}with(e,t){const r=this._createZoneName();return this._createZone(r,e).run(t,e)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isListenerObject=void 0,t.isListenerObject=function(e={}){return"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){(function(n){var o,i;void 0===(i="function"==typeof(o=function(){"use strict";!function(e){var t=e.performance;function r(e){t&&t.mark&&t.mark(e)}function n(e,r){t&&t.measure&&t.measure(e,r)}r("Zone");var o=e.__Zone_symbol_prefix||"__zone_symbol__";function i(e){return o+e}var a=!0===e[i("forceDuplicateZoneCheck")];if(e.Zone){if(a||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}var s=function(){function t(e,t){this._parent=e,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new l(this,this._parent&&this._parent._zoneDelegate,t)}return t.assertZonePatched=function(){if(e.Promise!==R.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")},Object.defineProperty(t,"root",{get:function(){for(var e=t.current;e.parent;)e=e.parent;return e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"current",{get:function(){return k.zone},enumerable:!0,configurable:!0}),Object.defineProperty(t,"currentTask",{get:function(){return M},enumerable:!0,configurable:!0}),t.__load_patch=function(o,i){if(R.hasOwnProperty(o)){if(a)throw Error("Already loaded patch: "+o)}else if(!e["__Zone_disable_"+o]){var s="Zone:"+o;r(s),R[o]=i(e,t,C),n(s,s)}},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t.prototype.get=function(e){var t=this.getZoneWith(e);if(t)return t._properties[e]},t.prototype.getZoneWith=function(e){for(var t=this;t;){if(t._properties.hasOwnProperty(e))return t;t=t._parent}return null},t.prototype.fork=function(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)},t.prototype.wrap=function(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);var r=this._zoneDelegate.intercept(this,e,t),n=this;return function(){return n.runGuarded(r,this,arguments,t)}},t.prototype.run=function(e,t,r,n){k={parent:k,zone:this};try{return this._zoneDelegate.invoke(this,e,t,r,n)}finally{k=k.parent}},t.prototype.runGuarded=function(e,t,r,n){void 0===t&&(t=null),k={parent:k,zone:this};try{try{return this._zoneDelegate.invoke(this,e,t,r,n)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{k=k.parent}},t.prototype.runTask=function(e,t,r){if(e.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(e.zone||y).name+"; Execution: "+this.name+")");if(e.state!==b||e.type!==N&&e.type!==P){var n=e.state!=w;n&&e._transitionTo(w,T),e.runCount++;var o=M;M=e,k={parent:k,zone:this};try{e.type==P&&e.data&&!e.data.isPeriodic&&(e.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,e,t,r)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{e.state!==b&&e.state!==O&&(e.type==N||e.data&&e.data.isPeriodic?n&&e._transitionTo(T,w):(e.runCount=0,this._updateTaskCount(e,-1),n&&e._transitionTo(b,w,b))),k=k.parent,M=o}}},t.prototype.scheduleTask=function(e){if(e.zone&&e.zone!==this)for(var t=this;t;){if(t===e.zone)throw Error("can not reschedule task to "+this.name+" which is descendants of the original zone "+e.zone.name);t=t.parent}e._transitionTo(E,b);var r=[];e._zoneDelegates=r,e._zone=this;try{e=this._zoneDelegate.scheduleTask(this,e)}catch(t){throw e._transitionTo(O,E,b),this._zoneDelegate.handleError(this,t),t}return e._zoneDelegates===r&&this._updateTaskCount(e,1),e.state==E&&e._transitionTo(T,E),e},t.prototype.scheduleMicroTask=function(e,t,r,n){return this.scheduleTask(new h(A,e,t,r,n,void 0))},t.prototype.scheduleMacroTask=function(e,t,r,n,o){return this.scheduleTask(new h(P,e,t,r,n,o))},t.prototype.scheduleEventTask=function(e,t,r,n,o){return this.scheduleTask(new h(N,e,t,r,n,o))},t.prototype.cancelTask=function(e){if(e.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(e.zone||y).name+"; Execution: "+this.name+")");e._transitionTo(S,T,w);try{this._zoneDelegate.cancelTask(this,e)}catch(t){throw e._transitionTo(O,S),this._zoneDelegate.handleError(this,t),t}return this._updateTaskCount(e,-1),e._transitionTo(b,S),e.runCount=0,e},t.prototype._updateTaskCount=function(e,t){var r=e._zoneDelegates;-1==t&&(e._zoneDelegates=null);for(var n=0;n<r.length;n++)r[n]._updateTaskCount(e.type,t)},t}();s.__symbol__=i;var u,c={name:"",onHasTask:function(e,t,r,n){return e.hasTask(r,n)},onScheduleTask:function(e,t,r,n){return e.scheduleTask(r,n)},onInvokeTask:function(e,t,r,n,o,i){return e.invokeTask(r,n,o,i)},onCancelTask:function(e,t,r,n){return e.cancelTask(r,n)}},l=function(){function e(e,t,r){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=e,this._parentDelegate=t,this._forkZS=r&&(r&&r.onFork?r:t._forkZS),this._forkDlgt=r&&(r.onFork?t:t._forkDlgt),this._forkCurrZone=r&&(r.onFork?this.zone:t._forkCurrZone),this._interceptZS=r&&(r.onIntercept?r:t._interceptZS),this._interceptDlgt=r&&(r.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=r&&(r.onIntercept?this.zone:t._interceptCurrZone),this._invokeZS=r&&(r.onInvoke?r:t._invokeZS),this._invokeDlgt=r&&(r.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=r&&(r.onInvoke?this.zone:t._invokeCurrZone),this._handleErrorZS=r&&(r.onHandleError?r:t._handleErrorZS),this._handleErrorDlgt=r&&(r.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=r&&(r.onHandleError?this.zone:t._handleErrorCurrZone),this._scheduleTaskZS=r&&(r.onScheduleTask?r:t._scheduleTaskZS),this._scheduleTaskDlgt=r&&(r.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=r&&(r.onScheduleTask?this.zone:t._scheduleTaskCurrZone),this._invokeTaskZS=r&&(r.onInvokeTask?r:t._invokeTaskZS),this._invokeTaskDlgt=r&&(r.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=r&&(r.onInvokeTask?this.zone:t._invokeTaskCurrZone),this._cancelTaskZS=r&&(r.onCancelTask?r:t._cancelTaskZS),this._cancelTaskDlgt=r&&(r.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=r&&(r.onCancelTask?this.zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;var n=r&&r.onHasTask,o=t&&t._hasTaskZS;(n||o)&&(this._hasTaskZS=n?r:c,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=e,r.onScheduleTask||(this._scheduleTaskZS=c,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),r.onInvokeTask||(this._invokeTaskZS=c,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),r.onCancelTask||(this._cancelTaskZS=c,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}return e.prototype.fork=function(e,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,t):new s(e,t)},e.prototype.intercept=function(e,t,r){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,e,t,r):t},e.prototype.invoke=function(e,t,r,n,o){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,e,t,r,n,o):t.apply(r,n)},e.prototype.handleError=function(e,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,e,t)},e.prototype.scheduleTask=function(e,t){var r=t;if(this._scheduleTaskZS)this._hasTaskZS&&r._zoneDelegates.push(this._hasTaskDlgtOwner),(r=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,e,t))||(r=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=A)throw new Error("Task is missing scheduleFn.");m(t)}return r},e.prototype.invokeTask=function(e,t,r,n){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,e,t,r,n):t.callback.apply(r,n)},e.prototype.cancelTask=function(e,t){var r;if(this._cancelTaskZS)r=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,e,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");r=t.cancelFn(t)}return r},e.prototype.hasTask=function(e,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,e,t)}catch(t){this.handleError(e,t)}},e.prototype._updateTaskCount=function(e,t){var r=this._taskCounts,n=r[e],o=r[e]=n+t;if(o<0)throw new Error("More tasks executed then were scheduled.");if(0==n||0==o){var i={microTask:r.microTask>0,macroTask:r.macroTask>0,eventTask:r.eventTask>0,change:e};this.hasTask(this.zone,i)}},e}(),h=function(){function t(r,n,o,i,a,s){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=r,this.source=n,this.data=i,this.scheduleFn=a,this.cancelFn=s,!o)throw new Error("callback is not defined");this.callback=o;var u=this;r===N&&i&&i.useG?this.invoke=t.invokeTask:this.invoke=function(){return t.invokeTask.call(e,u,this,arguments)}}return t.invokeTask=function(e,t,r){e||(e=this),I++;try{return e.runCount++,e.zone.runTask(e,t,r)}finally{1==I&&v(),I--}},Object.defineProperty(t.prototype,"zone",{get:function(){return this._zone},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),t.prototype.cancelScheduleRequest=function(){this._transitionTo(b,E)},t.prototype._transitionTo=function(e,t,r){if(this._state!==t&&this._state!==r)throw new Error(this.type+" '"+this.source+"': can not transition to '"+e+"', expecting state '"+t+"'"+(r?" or '"+r+"'":"")+", was '"+this._state+"'.");this._state=e,e==b&&(this._zoneDelegates=null)},t.prototype.toString=function(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)},t.prototype.toJSON=function(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}},t}(),f=i("setTimeout"),p=i("Promise"),d=i("then"),_=[],g=!1;function m(t){if(0===I&&0===_.length)if(u||e[p]&&(u=e[p].resolve(0)),u){var r=u[d];r||(r=u.then),r.call(u,v)}else e[f](v,0);t&&_.push(t)}function v(){if(!g){for(g=!0;_.length;){var e=_;_=[];for(var t=0;t<e.length;t++){var r=e[t];try{r.zone.runTask(r,null,null)}catch(e){C.onUnhandledError(e)}}}C.microtaskDrainDone(),g=!1}}var y={name:"NO ZONE"},b="notScheduled",E="scheduling",T="scheduled",w="running",S="canceling",O="unknown",A="microTask",P="macroTask",N="eventTask",R={},C={symbol:i,currentZoneFrame:function(){return k},onUnhandledError:L,microtaskDrainDone:L,scheduleMicroTask:m,showUncaughtError:function(){return!s[i("ignoreConsoleErrorUncaughtError")]},patchEventTarget:function(){return[]},patchOnProperties:L,patchMethod:function(){return L},bindArguments:function(){return[]},patchThen:function(){return L},patchMacroTask:function(){return L},setNativePromise:function(e){e&&"function"==typeof e.resolve&&(u=e.resolve(0))},patchEventPrototype:function(){return L},isIEOrEdge:function(){return!1},getGlobalObjects:function(){},ObjectDefineProperty:function(){return L},ObjectGetOwnPropertyDescriptor:function(){},ObjectCreate:function(){},ArraySlice:function(){return[]},patchClass:function(){return L},wrapWithCurrentZone:function(){return L},filterProperties:function(){return[]},attachOriginToPatched:function(){return L},_redefineProperty:function(){return L},patchCallbacks:function(){return L}},k={parent:null,zone:new s(null,null)},M=null,I=0;function L(){}n("Zone","Zone"),e.Zone=s}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||n),Zone.__load_patch("ZoneAwarePromise",(function(e,t,r){var n=Object.getOwnPropertyDescriptor,o=Object.defineProperty,i=r.symbol,a=[],s=!0===e[i("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],u=i("Promise"),c=i("then");r.onUnhandledError=function(e){if(r.showUncaughtError()){var t=e&&e.rejection;t?console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t,t instanceof Error?t.stack:void 0):console.error(e)}},r.microtaskDrainDone=function(){for(var e=function(){var e=a.shift();try{e.zone.runGuarded((function(){throw e}))}catch(e){!function(e){r.onUnhandledError(e);try{var n=t[l];"function"==typeof n&&n.call(this,e)}catch(e){}}(e)}};a.length;)e()};var l=i("unhandledPromiseRejectionHandler");function h(e){return e&&e.then}function f(e){return e}function p(e){return A.reject(e)}var d=i("state"),_=i("value"),g=i("finally"),m=i("parentPromiseValue"),v=i("parentPromiseState");function y(e,t){return function(r){try{E(e,t,r)}catch(t){E(e,!1,t)}}}var b=i("currentTaskTrace");function E(e,n,i){var u,c=(u=!1,function(e){return function(){u||(u=!0,e.apply(null,arguments))}});if(e===i)throw new TypeError("Promise resolved with itself");if(null===e[d]){var l=null;try{"object"!=typeof i&&"function"!=typeof i||(l=i&&i.then)}catch(t){return c((function(){E(e,!1,t)}))(),e}if(!1!==n&&i instanceof A&&i.hasOwnProperty(d)&&i.hasOwnProperty(_)&&null!==i[d])w(i),E(e,i[d],i[_]);else if(!1!==n&&"function"==typeof l)try{l.call(i,c(y(e,n)),c(y(e,!1)))}catch(t){c((function(){E(e,!1,t)}))()}else{e[d]=n;var h=e[_];if(e[_]=i,e[g]===g&&!0===n&&(e[d]=e[v],e[_]=e[m]),!1===n&&i instanceof Error){var f=t.currentTask&&t.currentTask.data&&t.currentTask.data.__creationTrace__;f&&o(i,b,{configurable:!0,enumerable:!1,writable:!0,value:f})}for(var p=0;p<h.length;)S(e,h[p++],h[p++],h[p++],h[p++]);if(0==h.length&&0==n){e[d]=0;var T=i;if(!s)try{throw new Error("Uncaught (in promise): "+function(e){if(e&&e.toString===Object.prototype.toString){var t=e.constructor&&e.constructor.name;return(t||"")+": "+JSON.stringify(e)}return e?e.toString():Object.prototype.toString.call(e)}(i)+(i&&i.stack?"\n"+i.stack:""))}catch(e){T=e}T.rejection=i,T.promise=e,T.zone=t.current,T.task=t.currentTask,a.push(T),r.scheduleMicroTask()}}}return e}var T=i("rejectionHandledHandler");function w(e){if(0===e[d]){try{var r=t[T];r&&"function"==typeof r&&r.call(this,{rejection:e[_],promise:e})}catch(e){}e[d]=!1;for(var n=0;n<a.length;n++)e===a[n].promise&&a.splice(n,1)}}function S(e,t,r,n,o){w(e);var i=e[d],a=i?"function"==typeof n?n:f:"function"==typeof o?o:p;t.scheduleMicroTask("Promise.then",(function(){try{var n=e[_],o=!!r&&g===r[g];o&&(r[m]=n,r[v]=i);var s=t.run(a,void 0,o&&a!==p&&a!==f?[]:[n]);E(r,!0,s)}catch(e){E(r,!1,e)}}),r)}var O=function(){},A=function(){function e(t){if(!(this instanceof e))throw new Error("Must be an instanceof Promise.");this[d]=null,this[_]=[];try{t&&t(y(this,!0),y(this,!1))}catch(e){E(this,!1,e)}}return e.toString=function(){return"function ZoneAwarePromise() { [native code] }"},e.resolve=function(e){return E(new this(null),!0,e)},e.reject=function(e){return E(new this(null),!1,e)},e.race=function(e){var t,r,n=new this((function(e,n){t=e,r=n}));function o(e){t(e)}function i(e){r(e)}for(var a=0,s=e;a<s.length;a++){var u=s[a];h(u)||(u=this.resolve(u)),u.then(o,i)}return n},e.all=function(t){return e.allWithCallback(t)},e.allSettled=function(t){return(this&&this.prototype instanceof e?this:e).allWithCallback(t,{thenCallback:function(e){return{status:"fulfilled",value:e}},errorCallback:function(e){return{status:"rejected",reason:e}}})},e.allWithCallback=function(e,t){for(var r,n,o=new this((function(e,t){r=e,n=t})),i=2,a=0,s=[],u=function(e){h(e)||(e=c.resolve(e));var o=a;try{e.then((function(e){s[o]=t?t.thenCallback(e):e,0==--i&&r(s)}),(function(e){t?(s[o]=t.errorCallback(e),0==--i&&r(s)):n(e)}))}catch(e){n(e)}i++,a++},c=this,l=0,f=e;l<f.length;l++)u(f[l]);return 0==(i-=2)&&r(s),o},Object.defineProperty(e.prototype,Symbol.toStringTag,{get:function(){return"Promise"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,Symbol.species,{get:function(){return e},enumerable:!0,configurable:!0}),e.prototype.then=function(r,n){var o=this.constructor[Symbol.species];o&&"function"==typeof o||(o=this.constructor||e);var i=new o(O),a=t.current;return null==this[d]?this[_].push(a,i,r,n):S(this,a,i,r,n),i},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(r){var n=this.constructor[Symbol.species];n&&"function"==typeof n||(n=e);var o=new n(O);o[g]=g;var i=t.current;return null==this[d]?this[_].push(i,o,r,r):S(this,i,o,r,r),o},e}();A.resolve=A.resolve,A.reject=A.reject,A.race=A.race,A.all=A.all;var P=e[u]=e.Promise,N=t.__symbol__("ZoneAwarePromise"),R=n(e,"Promise");R&&!R.configurable||(R&&delete R.writable,R&&delete R.value,R||(R={configurable:!0,enumerable:!0}),R.get=function(){return e[N]?e[N]:e[u]},R.set=function(t){t===A?e[N]=t:(e[u]=t,t.prototype[c]||M(t),r.setNativePromise(t))},o(e,"Promise",R)),e.Promise=A;var C,k=i("thenPatched");function M(e){var t=e.prototype,r=n(t,"then");if(!r||!1!==r.writable&&r.configurable){var o=t.then;t[c]=o,e.prototype.then=function(e,t){var r=this;return new A((function(e,t){o.call(r,e,t)})).then(e,t)},e[k]=!0}}if(r.patchThen=M,P){M(P);var I=e.fetch;"function"==typeof I&&(e[r.symbol("fetch")]=I,e.fetch=(C=I,function(){var e=C.apply(this,arguments);if(e instanceof A)return e;var t=e.constructor;return t[k]||M(t),e}))}return Promise[t.__symbol__("uncaughtPromiseErrors")]=a,A}));var e=Object.getOwnPropertyDescriptor,t=Object.defineProperty,r=Object.getPrototypeOf,o=Object.create,i=Array.prototype.slice,a=Zone.__symbol__("addEventListener"),s=Zone.__symbol__("removeEventListener"),u=Zone.__symbol__("");function c(e,t){return Zone.current.wrap(e,t)}function l(e,t,r,n,o){return Zone.current.scheduleMacroTask(e,t,r,n,o)}var h=Zone.__symbol__,f="undefined"!=typeof window,p=f?window:void 0,d=f&&p||"object"==typeof self&&self||n,_=[null];function g(e,t){for(var r=e.length-1;r>=0;r--)"function"==typeof e[r]&&(e[r]=c(e[r],t+"_"+r));return e}function m(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&void 0===e.set)}var v="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,y=!("nw"in d)&&void 0!==d.process&&"[object process]"==={}.toString.call(d.process),b=!y&&!v&&!(!f||!p.HTMLElement),E=void 0!==d.process&&"[object process]"==={}.toString.call(d.process)&&!v&&!(!f||!p.HTMLElement),T={},w=function(e){if(e=e||d.event){var t=T[e.type];t||(t=T[e.type]=h("ON_PROPERTY"+e.type));var r,n=this||e.target||d,o=n[t];if(b&&n===p&&"error"===e.type){var i=e;!0===(r=o&&o.call(this,i.message,i.filename,i.lineno,i.colno,i.error))&&e.preventDefault()}else null==(r=o&&o.apply(this,arguments))||r||e.preventDefault();return r}};function S(r,n,o){var i=e(r,n);if(!i&&o&&e(o,n)&&(i={enumerable:!0,configurable:!0}),i&&i.configurable){var a=h("on"+n+"patched");if(!r.hasOwnProperty(a)||!r[a]){delete i.writable,delete i.value;var s=i.get,u=i.set,c=n.substr(2),l=T[c];l||(l=T[c]=h("ON_PROPERTY"+c)),i.set=function(e){var t=this;t||r!==d||(t=d),t&&(t[l]&&t.removeEventListener(c,w),u&&u.apply(t,_),"function"==typeof e?(t[l]=e,t.addEventListener(c,w,!1)):t[l]=null)},i.get=function(){var e=this;if(e||r!==d||(e=d),!e)return null;var t=e[l];if(t)return t;if(s){var o=s&&s.call(this);if(o)return i.set.call(this,o),"function"==typeof e.removeAttribute&&e.removeAttribute(n),o}return null},t(r,n,i),r[a]=!0}}}function O(e,t,r){if(t)for(var n=0;n<t.length;n++)S(e,"on"+t[n],r);else{var o=[];for(var i in e)"on"==i.substr(0,2)&&o.push(i);for(var a=0;a<o.length;a++)S(e,o[a],r)}}var A=h("originalInstance");function P(e){var r=d[e];if(r){d[h(e)]=r,d[e]=function(){var t=g(arguments,e);switch(t.length){case 0:this[A]=new r;break;case 1:this[A]=new r(t[0]);break;case 2:this[A]=new r(t[0],t[1]);break;case 3:this[A]=new r(t[0],t[1],t[2]);break;case 4:this[A]=new r(t[0],t[1],t[2],t[3]);break;default:throw new Error("Arg list too long.")}},C(d[e],r);var n,o=new r((function(){}));for(n in o)"XMLHttpRequest"===e&&"responseBlob"===n||function(r){"function"==typeof o[r]?d[e].prototype[r]=function(){return this[A][r].apply(this[A],arguments)}:t(d[e].prototype,r,{set:function(t){"function"==typeof t?(this[A][r]=c(t,e+"."+r),C(this[A][r],t)):this[A][r]=t},get:function(){return this[A][r]}})}(n);for(n in r)"prototype"!==n&&r.hasOwnProperty(n)&&(d[e][n]=r[n])}}function N(t,n,o){for(var i=t;i&&!i.hasOwnProperty(n);)i=r(i);!i&&t[n]&&(i=t);var a=h(n),s=null;if(i&&!(s=i[a])&&(s=i[a]=i[n],m(i&&e(i,n)))){var u=o(s,a,n);i[n]=function(){return u(this,arguments)},C(i[n],s)}return s}function R(e,t,r){var n=null;function o(e){var t=e.data;return t.args[t.cbIdx]=function(){e.invoke.apply(this,arguments)},n.apply(t.target,t.args),e}n=N(e,t,(function(e){return function(t,n){var i=r(t,n);return i.cbIdx>=0&&"function"==typeof n[i.cbIdx]?l(i.name,n[i.cbIdx],i,o):e.apply(t,n)}}))}function C(e,t){e[h("OriginalDelegate")]=t}var k=!1,M=!1;function I(){try{var e=p.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch(e){}return!1}function L(){if(k)return M;k=!0;try{var e=p.navigator.userAgent;-1===e.indexOf("MSIE ")&&-1===e.indexOf("Trident/")&&-1===e.indexOf("Edge/")||(M=!0)}catch(e){}return M}Zone.__load_patch("toString",(function(e){var t=Function.prototype.toString,r=h("OriginalDelegate"),n=h("Promise"),o=h("Error"),i=function(){if("function"==typeof this){var i=this[r];if(i)return"function"==typeof i?t.call(i):Object.prototype.toString.call(i);if(this===Promise){var a=e[n];if(a)return t.call(a)}if(this===Error){var s=e[o];if(s)return t.call(s)}}return t.call(this)};i[r]=t,Function.prototype.toString=i;var a=Object.prototype.toString;Object.prototype.toString=function(){return this instanceof Promise?"[object Promise]":a.call(this)}}));var D=!1;if("undefined"!=typeof window)try{var x=Object.defineProperty({},"passive",{get:function(){D=!0}});window.addEventListener("test",x,x),window.removeEventListener("test",x,x)}catch(e){D=!1}var j={useG:!0},U={},B={},H=new RegExp("^"+u+"(\\w+)(true|false)$"),F=h("propagationStopped");function Z(e,t){var r=(t?t(e):e)+"false",n=(t?t(e):e)+"true",o=u+r,i=u+n;U[e]={},U[e].false=o,U[e].true=i}function V(e,t,n){var o=n&&n.add||"addEventListener",i=n&&n.rm||"removeEventListener",a=n&&n.listeners||"eventListeners",s=n&&n.rmAll||"removeAllListeners",c=h(o),l="."+o+":",f=function(e,t,r){if(!e.isRemoved){var n=e.callback;"object"==typeof n&&n.handleEvent&&(e.callback=function(e){return n.handleEvent(e)},e.originalDelegate=n),e.invoke(e,t,[r]);var o=e.options;if(o&&"object"==typeof o&&o.once){var a=e.originalDelegate?e.originalDelegate:e.callback;t[i].call(t,r.type,a,o)}}},p=function(t){if(t=t||e.event){var r=this||t.target||e,n=r[U[t.type].false];if(n)if(1===n.length)f(n[0],r,t);else for(var o=n.slice(),i=0;i<o.length&&(!t||!0!==t[F]);i++)f(o[i],r,t)}},d=function(t){if(t=t||e.event){var r=this||t.target||e,n=r[U[t.type].true];if(n)if(1===n.length)f(n[0],r,t);else for(var o=n.slice(),i=0;i<o.length&&(!t||!0!==t[F]);i++)f(o[i],r,t)}};function _(t,n){if(!t)return!1;var f=!0;n&&void 0!==n.useG&&(f=n.useG);var _=n&&n.vh,g=!0;n&&void 0!==n.chkDup&&(g=n.chkDup);var m=!1;n&&void 0!==n.rt&&(m=n.rt);for(var v=t;v&&!v.hasOwnProperty(o);)v=r(v);if(!v&&t[o]&&(v=t),!v)return!1;if(v[c])return!1;var b,E=n&&n.eventNameToString,T={},w=v[c]=v[o],S=v[h(i)]=v[i],O=v[h(a)]=v[a],A=v[h(s)]=v[s];function P(e,t){return!D&&"object"==typeof e&&e?!!e.capture:D&&t?"boolean"==typeof e?{capture:e,passive:!0}:e?"object"==typeof e&&!1!==e.passive?Object.assign(Object.assign({},e),{passive:!0}):e:{passive:!0}:e}n&&n.prepend&&(b=v[h(n.prepend)]=v[n.prepend]);var N=f?function(e){if(!T.isExisting)return w.call(T.target,T.eventName,T.capture?d:p,T.options)}:function(e){return w.call(T.target,T.eventName,e.invoke,T.options)},R=f?function(e){if(!e.isRemoved){var t=U[e.eventName],r=void 0;t&&(r=t[e.capture?"true":"false"]);var n=r&&e.target[r];if(n)for(var o=0;o<n.length;o++)if(n[o]===e){n.splice(o,1),e.isRemoved=!0,0===n.length&&(e.allRemoved=!0,e.target[r]=null);break}}if(e.allRemoved)return S.call(e.target,e.eventName,e.capture?d:p,e.options)}:function(e){return S.call(e.target,e.eventName,e.invoke,e.options)},k=n&&n.diff?n.diff:function(e,t){var r=typeof t;return"function"===r&&e.callback===t||"object"===r&&e.originalDelegate===t},M=Zone[h("BLACK_LISTED_EVENTS")],I=e[h("PASSIVE_EVENTS")],L=function(t,r,o,i,a,s){return void 0===a&&(a=!1),void 0===s&&(s=!1),function(){var u=this||e,c=arguments[0];n&&n.transferEventName&&(c=n.transferEventName(c));var l=arguments[1];if(!l)return t.apply(this,arguments);if(y&&"uncaughtException"===c)return t.apply(this,arguments);var h=!1;if("function"!=typeof l){if(!l.handleEvent)return t.apply(this,arguments);h=!0}if(!_||_(t,l,u,arguments)){var p=D&&!!I&&-1!==I.indexOf(c),d=P(arguments[2],p);if(M)for(var m=0;m<M.length;m++)if(c===M[m])return p?t.call(u,c,l,d):t.apply(this,arguments);var v=!!d&&("boolean"==typeof d||d.capture),b=!(!d||"object"!=typeof d)&&d.once,w=Zone.current,S=U[c];S||(Z(c,E),S=U[c]);var O,A=S[v?"true":"false"],N=u[A],R=!1;if(N){if(R=!0,g)for(m=0;m<N.length;m++)if(k(N[m],l))return}else N=u[A]=[];var C=u.constructor.name,L=B[C];L&&(O=L[c]),O||(O=C+r+(E?E(c):c)),T.options=d,b&&(T.options.once=!1),T.target=u,T.capture=v,T.eventName=c,T.isExisting=R;var x=f?j:void 0;x&&(x.taskData=T);var H=w.scheduleEventTask(O,l,x,o,i);return T.target=null,x&&(x.taskData=null),b&&(d.once=!0),(D||"boolean"!=typeof H.options)&&(H.options=d),H.target=u,H.capture=v,H.eventName=c,h&&(H.originalDelegate=l),s?N.unshift(H):N.push(H),a?u:void 0}}};return v[o]=L(w,l,N,R,m),b&&(v.prependListener=L(b,".prependListener:",(function(e){return b.call(T.target,T.eventName,e.invoke,T.options)}),R,m,!0)),v[i]=function(){var t=this||e,r=arguments[0];n&&n.transferEventName&&(r=n.transferEventName(r));var o=arguments[2],i=!!o&&("boolean"==typeof o||o.capture),a=arguments[1];if(!a)return S.apply(this,arguments);if(!_||_(S,a,t,arguments)){var s,c=U[r];c&&(s=c[i?"true":"false"]);var l=s&&t[s];if(l)for(var h=0;h<l.length;h++){var f=l[h];if(k(f,a)){if(l.splice(h,1),f.isRemoved=!0,0===l.length&&(f.allRemoved=!0,t[s]=null,"string"==typeof r)){var p=u+"ON_PROPERTY"+r;t[p]=null}return f.zone.cancelTask(f),m?t:void 0}}return S.apply(this,arguments)}},v[a]=function(){var t=this||e,r=arguments[0];n&&n.transferEventName&&(r=n.transferEventName(r));for(var o=[],i=z(t,E?E(r):r),a=0;a<i.length;a++){var s=i[a],u=s.originalDelegate?s.originalDelegate:s.callback;o.push(u)}return o},v[s]=function(){var t=this||e,r=arguments[0];if(r){n&&n.transferEventName&&(r=n.transferEventName(r));var o=U[r];if(o){var a=o.false,u=o.true,c=t[a],l=t[u];if(c){var h=c.slice();for(_=0;_<h.length;_++){var f=(p=h[_]).originalDelegate?p.originalDelegate:p.callback;this[i].call(this,r,f,p.options)}}if(l)for(h=l.slice(),_=0;_<h.length;_++){var p;f=(p=h[_]).originalDelegate?p.originalDelegate:p.callback,this[i].call(this,r,f,p.options)}}}else{for(var d=Object.keys(t),_=0;_<d.length;_++){var g=d[_],v=H.exec(g),y=v&&v[1];y&&"removeListener"!==y&&this[s].call(this,y)}this[s].call(this,"removeListener")}if(m)return this},C(v[o],w),C(v[i],S),A&&C(v[s],A),O&&C(v[a],O),!0}for(var g=[],m=0;m<t.length;m++)g[m]=_(t[m],n);return g}function z(e,t){if(!t){var r=[];for(var n in e){var o=H.exec(n),i=o&&o[1];if(i&&(!t||i===t)){var a=e[n];if(a)for(var s=0;s<a.length;s++)r.push(a[s])}}return r}var u=U[t];u||(Z(t),u=U[t]);var c=e[u.false],l=e[u.true];return c?l?c.concat(l):c.slice():l?l.slice():[]}function q(e,t){var r=e.Event;r&&r.prototype&&t.patchMethod(r.prototype,"stopImmediatePropagation",(function(e){return function(t,r){t[F]=!0,e&&e.apply(t,r)}}))}function G(e,t,r,n,o){var i=Zone.__symbol__(n);if(!t[i]){var a=t[i]=t[n];t[n]=function(i,s,u){return s&&s.prototype&&o.forEach((function(t){var o=r+"."+n+"::"+t,i=s.prototype;if(i.hasOwnProperty(t)){var a=e.ObjectGetOwnPropertyDescriptor(i,t);a&&a.value?(a.value=e.wrapWithCurrentZone(a.value,o),e._redefineProperty(s.prototype,t,a)):i[t]&&(i[t]=e.wrapWithCurrentZone(i[t],o))}else i[t]&&(i[t]=e.wrapWithCurrentZone(i[t],o))})),a.call(t,i,s,u)},e.attachOriginToPatched(t[n],a)}}var Y,K,W,X,$,J=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplayconnected","vrdisplaydisconnected","vrdisplaypresentchange"],Q=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],ee=["load"],te=["blur","error","focus","load","resize","scroll","messageerror"],re=["bounce","finish","start"],ne=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],oe=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],ie=["close","error","open","message"],ae=["error","message"],se=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],J,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function ue(e,t,r){if(!r||0===r.length)return t;var n=r.filter((function(t){return t.target===e}));if(!n||0===n.length)return t;var o=n[0].ignoreProperties;return t.filter((function(e){return-1===o.indexOf(e)}))}function ce(e,t,r,n){e&&O(e,ue(e,t,r),n)}function le(e,t){if((!y||E)&&!Zone[e.symbol("patchEvents")]){var n="undefined"!=typeof WebSocket,o=t.__Zone_ignore_on_properties;if(b){var i=window,a=I?[{target:i,ignoreProperties:["error"]}]:[];ce(i,se.concat(["messageerror"]),o?o.concat(a):o,r(i)),ce(Document.prototype,se,o),void 0!==i.SVGElement&&ce(i.SVGElement.prototype,se,o),ce(Element.prototype,se,o),ce(HTMLElement.prototype,se,o),ce(HTMLMediaElement.prototype,Q,o),ce(HTMLFrameSetElement.prototype,J.concat(te),o),ce(HTMLBodyElement.prototype,J.concat(te),o),ce(HTMLFrameElement.prototype,ee,o),ce(HTMLIFrameElement.prototype,ee,o);var s=i.HTMLMarqueeElement;s&&ce(s.prototype,re,o);var u=i.Worker;u&&ce(u.prototype,ae,o)}var c=t.XMLHttpRequest;c&&ce(c.prototype,ne,o);var l=t.XMLHttpRequestEventTarget;l&&ce(l&&l.prototype,ne,o),"undefined"!=typeof IDBIndex&&(ce(IDBIndex.prototype,oe,o),ce(IDBRequest.prototype,oe,o),ce(IDBOpenDBRequest.prototype,oe,o),ce(IDBDatabase.prototype,oe,o),ce(IDBTransaction.prototype,oe,o),ce(IDBCursor.prototype,oe,o)),n&&ce(WebSocket.prototype,ie,o)}}function he(){Y=Zone.__symbol__,K=Object[Y("defineProperty")]=Object.defineProperty,W=Object[Y("getOwnPropertyDescriptor")]=Object.getOwnPropertyDescriptor,X=Object.create,$=Y("unconfigurables"),Object.defineProperty=function(e,t,r){if(pe(e,t))throw new TypeError("Cannot assign to read only property '"+t+"' of "+e);var n=r.configurable;return"prototype"!==t&&(r=de(e,t,r)),_e(e,t,r,n)},Object.defineProperties=function(e,t){return Object.keys(t).forEach((function(r){Object.defineProperty(e,r,t[r])})),e},Object.create=function(e,t){return"object"!=typeof t||Object.isFrozen(t)||Object.keys(t).forEach((function(r){t[r]=de(e,r,t[r])})),X(e,t)},Object.getOwnPropertyDescriptor=function(e,t){var r=W(e,t);return r&&pe(e,t)&&(r.configurable=!1),r}}function fe(e,t,r){var n=r.configurable;return _e(e,t,r=de(e,t,r),n)}function pe(e,t){return e&&e[$]&&e[$][t]}function de(e,t,r){return Object.isFrozen(r)||(r.configurable=!0),r.configurable||(e[$]||Object.isFrozen(e)||K(e,$,{writable:!0,value:{}}),e[$]&&(e[$][t]=!0)),r}function _e(e,t,r,n){try{return K(e,t,r)}catch(i){if(!r.configurable)throw i;void 0===n?delete r.configurable:r.configurable=n;try{return K(e,t,r)}catch(n){var o=null;try{o=JSON.stringify(r)}catch(e){o=r.toString()}console.log("Attempting to configure '"+t+"' with descriptor '"+o+"' on object '"+e+"' and got error, giving up: "+n)}}}function ge(e,t){var r=t.getGlobalObjects(),n=r.eventNames,o=r.globalSources,i=r.zoneSymbolEventNames,a=r.TRUE_STR,s=r.FALSE_STR,u=r.ZONE_SYMBOL_PREFIX,c="ApplicationCache,EventSource,FileReader,InputMethodContext,MediaController,MessagePort,Node,Performance,SVGElementInstance,SharedWorker,TextTrack,TextTrackCue,TextTrackList,WebKitNamedFlow,Window,Worker,WorkerGlobalScope,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload,IDBRequest,IDBOpenDBRequest,IDBDatabase,IDBTransaction,IDBCursor,DBIndex,WebSocket".split(","),l=[],h=e.wtf,f="Anchor,Area,Audio,BR,Base,BaseFont,Body,Button,Canvas,Content,DList,Directory,Div,Embed,FieldSet,Font,Form,Frame,FrameSet,HR,Head,Heading,Html,IFrame,Image,Input,Keygen,LI,Label,Legend,Link,Map,Marquee,Media,Menu,Meta,Meter,Mod,OList,Object,OptGroup,Option,Output,Paragraph,Pre,Progress,Quote,Script,Select,Source,Span,Style,TableCaption,TableCell,TableCol,Table,TableRow,TableSection,TextArea,Title,Track,UList,Unknown,Video".split(",");h?l=f.map((function(e){return"HTML"+e+"Element"})).concat(c):e.EventTarget?l.push("EventTarget"):l=c;for(var p=e.__Zone_disable_IE_check||!1,d=e.__Zone_enable_cross_context_check||!1,_=t.isIEOrEdge(),g="function __BROWSERTOOLS_CONSOLE_SAFEFUNC() { [native code] }",m={MSPointerCancel:"pointercancel",MSPointerDown:"pointerdown",MSPointerEnter:"pointerenter",MSPointerHover:"pointerhover",MSPointerLeave:"pointerleave",MSPointerMove:"pointermove",MSPointerOut:"pointerout",MSPointerOver:"pointerover",MSPointerUp:"pointerup"},v=0;v<n.length;v++){var y=u+((S=n[v])+s),b=u+(S+a);i[S]={},i[S][s]=y,i[S][a]=b}for(v=0;v<f.length;v++)for(var E=f[v],T=o[E]={},w=0;w<n.length;w++){var S;T[S=n[w]]=E+".addEventListener:"+S}var O=[];for(v=0;v<l.length;v++){var A=e[l[v]];O.push(A&&A.prototype)}return t.patchEventTarget(e,O,{vh:function(e,t,r,n){if(!p&&_){if(d)try{var o;if("[object FunctionWrapper]"===(o=t.toString())||o==g)return e.apply(r,n),!1}catch(t){return e.apply(r,n),!1}else if("[object FunctionWrapper]"===(o=t.toString())||o==g)return e.apply(r,n),!1}else if(d)try{t.toString()}catch(t){return e.apply(r,n),!1}return!0},transferEventName:function(e){return m[e]||e}}),Zone[t.symbol("patchEventTarget")]=!!e.EventTarget,!0}function me(e,t){var r=e.getGlobalObjects(),n=r.isNode,o=r.isMix;if((!n||o)&&!function(e,t){var r=e.getGlobalObjects(),n=r.isBrowser,o=r.isMix;if((n||o)&&!e.ObjectGetOwnPropertyDescriptor(HTMLElement.prototype,"onclick")&&"undefined"!=typeof Element){var i=e.ObjectGetOwnPropertyDescriptor(Element.prototype,"onclick");if(i&&!i.configurable)return!1;if(i){e.ObjectDefineProperty(Element.prototype,"onclick",{enumerable:!0,configurable:!0,get:function(){return!0}});var a=!!document.createElement("div").onclick;return e.ObjectDefineProperty(Element.prototype,"onclick",i),a}}var s=t.XMLHttpRequest;if(!s)return!1;var u=s.prototype,c=e.ObjectGetOwnPropertyDescriptor(u,"onreadystatechange");if(c)return e.ObjectDefineProperty(u,"onreadystatechange",{enumerable:!0,configurable:!0,get:function(){return!0}}),a=!!(h=new s).onreadystatechange,e.ObjectDefineProperty(u,"onreadystatechange",c||{}),a;var l=e.symbol("fake");e.ObjectDefineProperty(u,"onreadystatechange",{enumerable:!0,configurable:!0,get:function(){return this[l]},set:function(e){this[l]=e}});var h=new s,f=function(){};return h.onreadystatechange=f,a=h[l]===f,h.onreadystatechange=null,a}(e,t)){var i="undefined"!=typeof WebSocket;!function(e){for(var t=e.getGlobalObjects().eventNames,r=e.symbol("unbound"),n=function(n){var o=t[n],i="on"+o;self.addEventListener(o,(function(t){var n,o,a=t.target;for(o=a?a.constructor.name+"."+i:"unknown."+i;a;)a[i]&&!a[i][r]&&((n=e.wrapWithCurrentZone(a[i],o))[r]=a[i],a[i]=n),a=a.parentElement}),!0)},o=0;o<t.length;o++)n(o)}(e),e.patchClass("XMLHttpRequest"),i&&function(e,t){var r=e.getGlobalObjects(),n=r.ADD_EVENT_LISTENER_STR,o=r.REMOVE_EVENT_LISTENER_STR,i=t.WebSocket;t.EventTarget||e.patchEventTarget(t,[i.prototype]),t.WebSocket=function(t,r){var a,s,u=arguments.length>1?new i(t,r):new i(t),c=e.ObjectGetOwnPropertyDescriptor(u,"onmessage");return c&&!1===c.configurable?(a=e.ObjectCreate(u),s=u,[n,o,"send","close"].forEach((function(t){a[t]=function(){var r=e.ArraySlice.call(arguments);if(t===n||t===o){var i=r.length>0?r[0]:void 0;if(i){var s=Zone.__symbol__("ON_PROPERTY"+i);u[s]=a[s]}}return u[t].apply(u,r)}}))):a=u,e.patchOnProperties(a,["close","error","message","open"],s),a};var a=t.WebSocket;for(var s in i)a[s]=i[s]}(e,t),Zone[e.symbol("patchEvents")]=!0}}Zone.__load_patch("util",(function(r,n,a){a.patchOnProperties=O,a.patchMethod=N,a.bindArguments=g,a.patchMacroTask=R;var s=n.__symbol__("BLACK_LISTED_EVENTS"),l=n.__symbol__("UNPATCHED_EVENTS");r[l]&&(r[s]=r[l]),r[s]&&(n[s]=n[l]=r[s]),a.patchEventPrototype=q,a.patchEventTarget=V,a.isIEOrEdge=L,a.ObjectDefineProperty=t,a.ObjectGetOwnPropertyDescriptor=e,a.ObjectCreate=o,a.ArraySlice=i,a.patchClass=P,a.wrapWithCurrentZone=c,a.filterProperties=ue,a.attachOriginToPatched=C,a._redefineProperty=Object.defineProperty,a.patchCallbacks=G,a.getGlobalObjects=function(){return{globalSources:B,zoneSymbolEventNames:U,eventNames:se,isBrowser:b,isMix:E,isNode:y,TRUE_STR:"true",FALSE_STR:"false",ZONE_SYMBOL_PREFIX:u,ADD_EVENT_LISTENER_STR:"addEventListener",REMOVE_EVENT_LISTENER_STR:"removeEventListener"}}})),function(e){var t,r=e.__Zone_symbol_prefix||"__zone_symbol__";e[(t="legacyPatch",r+t)]=function(){var t=e.Zone;t.__load_patch("defineProperty",(function(e,t,r){r._redefineProperty=fe,he()})),t.__load_patch("registerElement",(function(e,t,r){!function(e,t){var r=t.getGlobalObjects(),n=r.isBrowser,o=r.isMix;(n||o)&&"registerElement"in e.document&&t.patchCallbacks(t,document,"Document","registerElement",["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"])}(e,r)})),t.__load_patch("EventTargetLegacy",(function(e,t,r){ge(e,r),me(r,e)}))}}("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{});var ve=h("zoneTask");function ye(e,t,r,n){var o=null,i=null;r+=n;var a={};function s(t){var r=t.data;return r.args[0]=function(){try{t.invoke.apply(this,arguments)}finally{t.data&&t.data.isPeriodic||("number"==typeof r.handleId?delete a[r.handleId]:r.handleId&&(r.handleId[ve]=null))}},r.handleId=o.apply(e,r.args),t}function u(e){return i(e.data.handleId)}o=N(e,t+=n,(function(r){return function(o,i){if("function"==typeof i[0]){var c={isPeriodic:"Interval"===n,delay:"Timeout"===n||"Interval"===n?i[1]||0:void 0,args:i},h=l(t,i[0],c,s,u);if(!h)return h;var f=h.data.handleId;return"number"==typeof f?a[f]=h:f&&(f[ve]=h),f&&f.ref&&f.unref&&"function"==typeof f.ref&&"function"==typeof f.unref&&(h.ref=f.ref.bind(f),h.unref=f.unref.bind(f)),"number"==typeof f||f?f:h}return r.apply(e,i)}})),i=N(e,r,(function(t){return function(r,n){var o,i=n[0];"number"==typeof i?o=a[i]:(o=i&&i[ve])||(o=i),o&&"string"==typeof o.type?"notScheduled"!==o.state&&(o.cancelFn&&o.data.isPeriodic||0===o.runCount)&&("number"==typeof i?delete a[i]:i&&(i[ve]=null),o.zone.cancelTask(o)):t.apply(e,n)}}))}function be(e,t){if(!Zone[t.symbol("patchEventTarget")]){for(var r=t.getGlobalObjects(),n=r.eventNames,o=r.zoneSymbolEventNames,i=r.TRUE_STR,a=r.FALSE_STR,s=r.ZONE_SYMBOL_PREFIX,u=0;u<n.length;u++){var c=n[u],l=s+(c+a),h=s+(c+i);o[c]={},o[c][a]=l,o[c][i]=h}var f=e.EventTarget;if(f&&f.prototype)return t.patchEventTarget(e,[f&&f.prototype]),!0}}Zone.__load_patch("legacy",(function(e){var t=e[Zone.__symbol__("legacyPatch")];t&&t()})),Zone.__load_patch("timers",(function(e){ye(e,"set","clear","Timeout"),ye(e,"set","clear","Interval"),ye(e,"set","clear","Immediate")})),Zone.__load_patch("requestAnimationFrame",(function(e){ye(e,"request","cancel","AnimationFrame"),ye(e,"mozRequest","mozCancel","AnimationFrame"),ye(e,"webkitRequest","webkitCancel","AnimationFrame")})),Zone.__load_patch("blocking",(function(e,t){for(var r=["alert","prompt","confirm"],n=0;n<r.length;n++)N(e,r[n],(function(r,n,o){return function(n,i){return t.current.run(r,e,i,o)}}))})),Zone.__load_patch("EventTarget",(function(e,t,r){!function(e,t){t.patchEventPrototype(e,t)}(e,r),be(e,r);var n=e.XMLHttpRequestEventTarget;n&&n.prototype&&r.patchEventTarget(e,[n.prototype]),P("MutationObserver"),P("WebKitMutationObserver"),P("IntersectionObserver"),P("FileReader")})),Zone.__load_patch("on_property",(function(e,t,r){le(r,e)})),Zone.__load_patch("customElements",(function(e,t,r){!function(e,t){var r=t.getGlobalObjects(),n=r.isBrowser,o=r.isMix;(n||o)&&e.customElements&&"customElements"in e&&t.patchCallbacks(t,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e,r)})),Zone.__load_patch("XHR",(function(e,t){!function(e){var f=e.XMLHttpRequest;if(f){var p=f.prototype,d=p[a],_=p[s];if(!d){var g=e.XMLHttpRequestEventTarget;if(g){var m=g.prototype;d=m[a],_=m[s]}}var v=N(p,"open",(function(){return function(e,t){return e[n]=0==t[2],e[u]=t[1],v.apply(e,t)}})),y=h("fetchTaskAborting"),b=h("fetchTaskScheduling"),E=N(p,"send",(function(){return function(e,r){if(!0===t.current[b])return E.apply(e,r);if(e[n])return E.apply(e,r);var o={target:e,url:e[u],isPeriodic:!1,args:r,aborted:!1},i=l("XMLHttpRequest.send",S,o,w,O);e&&!0===e[c]&&!o.aborted&&"scheduled"===i.state&&i.invoke()}})),T=N(p,"abort",(function(){return function(e,n){var o=e[r];if(o&&"string"==typeof o.type){if(null==o.cancelFn||o.data&&o.data.aborted)return;o.zone.cancelTask(o)}else if(!0===t.current[y])return T.apply(e,n)}}))}function w(e){var n=e.data,u=n.target;u[i]=!1,u[c]=!1;var l=u[o];d||(d=u[a],_=u[s]),l&&_.call(u,"readystatechange",l);var h=u[o]=function(){if(u.readyState===u.DONE)if(!n.aborted&&u[i]&&"scheduled"===e.state){var r=u[t.__symbol__("loadfalse")];if(r&&r.length>0){var o=e.invoke;e.invoke=function(){for(var r=u[t.__symbol__("loadfalse")],i=0;i<r.length;i++)r[i]===e&&r.splice(i,1);n.aborted||"scheduled"!==e.state||o.call(e)},r.push(e)}else e.invoke()}else n.aborted||!1!==u[i]||(u[c]=!0)};return d.call(u,"readystatechange",h),u[r]||(u[r]=e),E.apply(u,n.args),u[i]=!0,e}function S(){}function O(e){var t=e.data;return t.aborted=!0,T.apply(t.target,t.args)}}(e);var r=h("xhrTask"),n=h("xhrSync"),o=h("xhrListener"),i=h("xhrScheduled"),u=h("xhrURL"),c=h("xhrErrorBeforeScheduled")})),Zone.__load_patch("geolocation",(function(t){t.navigator&&t.navigator.geolocation&&function(t,r){for(var n=t.constructor.name,o=function(o){var i=r[o],a=t[i];if(a){if(!m(e(t,i)))return"continue";t[i]=function(e){var t=function(){return e.apply(this,g(arguments,n+"."+i))};return C(t,e),t}(a)}},i=0;i<r.length;i++)o(i)}(t.navigator.geolocation,["getCurrentPosition","watchPosition"])})),Zone.__load_patch("PromiseRejectionEvent",(function(e,t){function r(t){return function(r){z(e,t).forEach((function(n){var o=e.PromiseRejectionEvent;if(o){var i=new o(t,{promise:r.promise,reason:r.rejection});n.invoke(i)}}))}}e.PromiseRejectionEvent&&(t[h("unhandledPromiseRejectionHandler")]=r("unhandledrejection"),t[h("rejectionHandledHandler")]=r("rejectionhandled"))}))})?o.call(t,r,t,e):o)||(e.exports=i)}).call(this,r(2))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(110))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(41),o=r(130),i=r(15),a=r(0),s=r(131),u=r(53);class c{constructor(e){const t=e.url||c.DEFAULT_URL,r=i.parse(t);this._logger=e.logger||new a.NoopLogger,this._reqOpts=Object.assign({method:"POST",headers:{"Content-Type":"application/json",[u.OT_REQUEST_HEADER]:1}},r),this._serviceName=e.serviceName,this._statusCodeTagName=e.statusCodeTagName||s.statusCodeTagName,this._statusDescriptionTagName=e.statusDescriptionTagName||s.statusDescriptionTagName,this._isShutdown=!1}export(e,t){if(this._logger.debug("Zipkin exporter export"),!this._isShutdown)return this._sendSpans(e,t);setTimeout(()=>t(a.ExportResult.FAILED_NOT_RETRYABLE))}shutdown(){this._logger.debug("Zipkin exporter shutdown"),this._isShutdown||(this._isShutdown=!0)}_toZipkinSpan(e){return s.toZipkinSpan(e,this._serviceName,this._statusCodeTagName,this._statusDescriptionTagName)}_sendSpans(e,t){const r=e.map(e=>this._toZipkinSpan(e));return this._send(r,e=>{if(t)return t(e)})}_send(e,t){if(0===e.length)return this._logger.debug("Zipkin send with empty spans"),t(a.ExportResult.SUCCESS);const{request:r}="http:"===this._reqOpts.protocol?n:o,i=r(this._reqOpts,e=>{let r="";e.on("data",e=>{r+=e}),e.on("end",()=>{const n=e.statusCode||0;return this._logger.debug("Zipkin response status code: %d, body: %s",n,r),t(n<400?a.ExportResult.SUCCESS:n<500?a.ExportResult.FAILED_NOT_RETRYABLE:a.ExportResult.FAILED_RETRYABLE)})});i.on("error",e=>(this._logger.error("Zipkin request error",e),t(a.ExportResult.FAILED_RETRYABLE)));const s=JSON.stringify(e);this._logger.debug("Zipkin request payload: %s",s),i.write(s,"utf8"),i.end()}}t.ZipkinExporter=c,c.DEFAULT_URL="http://localhost:9411/api/v2/spans"},function(e,t,r){(function(t,n,o){var i=r(43),a=r(3),s=r(44),u=r(45),c=r(121),l=s.IncomingMessage,h=s.readyStates;var f=e.exports=function(e){var r,n=this;u.Writable.call(n),n._opts=e,n._body=[],n._headers={},e.auth&&n.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){n.setHeader(t,e.headers[t])}));var o=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!i.abortController)o=!1,r=!0;else if("prefer-streaming"===e.mode)r=!1;else if("allow-wrong-content-type"===e.mode)r=!i.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");r=!0}n._mode=function(e,t){return i.fetch&&t?"fetch":i.mozchunkedarraybuffer?"moz-chunked-arraybuffer":i.msstream?"ms-stream":i.arraybuffer&&e?"arraybuffer":i.vbArray&&e?"text:vbarray":"text"}(r,o),n._fetchTimer=null,n.on("finish",(function(){n._onFinish()}))};a(f,u.Writable),f.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===p.indexOf(r)&&(this._headers[r]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var e=this;if(!e._destroyed){var r=e._opts,a=e._headers,s=null;"GET"!==r.method&&"HEAD"!==r.method&&(s=i.arraybuffer?c(t.concat(e._body)):i.blobConstructor?new n.Blob(e._body.map((function(e){return c(e)})),{type:(a["content-type"]||{}).value||""}):t.concat(e._body).toString());var u=[];if(Object.keys(a).forEach((function(e){var t=a[e].name,r=a[e].value;Array.isArray(r)?r.forEach((function(e){u.push([t,e])})):u.push([t,r])})),"fetch"===e._mode){var l=null;if(i.abortController){var f=new AbortController;l=f.signal,e._fetchAbortController=f,"requestTimeout"in r&&0!==r.requestTimeout&&(e._fetchTimer=n.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),r.requestTimeout))}n.fetch(e._opts.url,{method:e._opts.method,headers:u,body:s||void 0,mode:"cors",credentials:r.withCredentials?"include":"same-origin",signal:l}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){n.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var p=e._xhr=new n.XMLHttpRequest;try{p.open(e._opts.method,e._opts.url,!0)}catch(t){return void o.nextTick((function(){e.emit("error",t)}))}"responseType"in p&&(p.responseType=e._mode.split(":")[0]),"withCredentials"in p&&(p.withCredentials=!!r.withCredentials),"text"===e._mode&&"overrideMimeType"in p&&p.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in r&&(p.timeout=r.requestTimeout,p.ontimeout=function(){e.emit("requestTimeout")}),u.forEach((function(e){p.setRequestHeader(e[0],e[1])})),e._response=null,p.onreadystatechange=function(){switch(p.readyState){case h.LOADING:case h.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(p.onprogress=function(){e._onXHRProgress()}),p.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{p.send(s)}catch(t){return void o.nextTick((function(){e.emit("error",t)}))}}}},f.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new l(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},f.prototype._write=function(e,t,r){this._body.push(e),r()},f.prototype.abort=f.prototype.destroy=function(){this._destroyed=!0,n.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},f.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),u.Writable.prototype.end.call(this,e,t,r)},f.prototype.flushHeaders=function(){},f.prototype.setTimeout=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,r(7).Buffer,r(2),r(4))},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),a=n[0],s=n[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),l=0,h=s>0?a-4:a;for(r=0;r<h;r+=4)t=o[e.charCodeAt(r)]<<18|o[e.charCodeAt(r+1)]<<12|o[e.charCodeAt(r+2)]<<6|o[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===s&&(t=o[e.charCodeAt(r)]<<2|o[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===s&&(t=o[e.charCodeAt(r)]<<10|o[e.charCodeAt(r+1)]<<4|o[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=0,s=r-o;a<s;a+=16383)i.push(l(e,a,a+16383>s?s:a+16383));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],o[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,o){var i,a,s=8*o-n-1,u=(1<<s)-1,c=u>>1,l=-7,h=r?o-1:0,f=r?-1:1,p=e[t+h];for(h+=f,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+e[t+h],h+=f,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;l>0;a=256*a+e[t+h],h+=f,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),i-=c}return(p?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,h=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,d=n?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(t*u-1)*Math.pow(2,o),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,o),a=0));o>=8;e[r+p]=255&s,p+=d,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[r+p]=255&a,p+=d,a/=256,c-=8);e[r+p-d]|=128*_}},function(e,t){},function(e,t,r){"use strict";var n=r(12).Buffer,o=r(116);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,o,i=n.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,r=i,o=s,t.copy(r,o),s+=a.data.length,a=a.next;return i},e}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(118),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(2))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,o,i,a,s,u=1,c={},l=!1,h=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){d(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){d(e.data)},n=function(e){i.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(o=h.documentElement,n=function(e){var t=h.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):n=function(e){setTimeout(d,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&d(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return c[u]=o,n(u),u++},f.clearImmediate=p}function p(e){delete c[e]}function d(e){if(l)setTimeout(d,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{p(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(2),r(4))},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r(2))},function(e,t,r){"use strict";e.exports=i;var n=r(52),o=Object.create(r(8));function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}o.inherits=r(3),o.inherits(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){var n=r(7).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(n.isBuffer(e)){for(var t=new Uint8Array(e.length),r=e.length,o=0;o<r;o++)t[o]=e[o];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var o in n)r.call(n,o)&&(e[o]=n[o])}return e};var r=Object.prototype.hasOwnProperty},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,r){(function(e,n){var o;!function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof n&&n;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,c=/^xn--/,l=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,d=String.fromCharCode;function _(e){throw new RangeError(f[e])}function g(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function m(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+g((e=e.replace(h,".")).split("."),t).join(".")}function v(e){for(var t,r,n=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(r=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--):n.push(t);return n}function y(e){return g(e,(function(e){var t="";return e>65535&&(t+=d((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=d(e)})).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,r){var n=0;for(e=r?p(e/700):e>>1,e+=p(e/t);e>455;n+=36)e=p(e/35);return p(n+36*e/(e+38))}function T(e){var t,r,n,o,i,a,s,c,l,h,f,d=[],g=e.length,m=0,v=128,b=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&_("not-basic"),d.push(e.charCodeAt(n));for(o=r>0?r+1:0;o<g;){for(i=m,a=1,s=36;o>=g&&_("invalid-input"),((c=(f=e.charCodeAt(o++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||c>p((u-m)/a))&&_("overflow"),m+=c*a,!(c<(l=s<=b?1:s>=b+26?26:s-b));s+=36)a>p(u/(h=36-l))&&_("overflow"),a*=h;b=E(m-i,t=d.length+1,0==i),p(m/t)>u-v&&_("overflow"),v+=p(m/t),m%=t,d.splice(m++,0,v)}return y(d)}function w(e){var t,r,n,o,i,a,s,c,l,h,f,g,m,y,T,w=[];for(g=(e=v(e)).length,t=128,r=0,i=72,a=0;a<g;++a)(f=e[a])<128&&w.push(d(f));for(n=o=w.length,o&&w.push("-");n<g;){for(s=u,a=0;a<g;++a)(f=e[a])>=t&&f<s&&(s=f);for(s-t>p((u-r)/(m=n+1))&&_("overflow"),r+=(s-t)*m,t=s,a=0;a<g;++a)if((f=e[a])<t&&++r>u&&_("overflow"),f==t){for(c=r,l=36;!(c<(h=l<=i?1:l>=i+26?26:l-i));l+=36)T=c-h,y=36-h,w.push(d(b(h+T%y,0))),c=p(T/y);w.push(d(b(c,0))),i=E(r,m,n==o),r=0,++n}++r,++t}return w.join("")}s={version:"1.4.1",ucs2:{decode:v,encode:y},decode:T,encode:w,toASCII:function(e){return m(e,(function(e){return l.test(e)?"xn--"+w(e):e}))},toUnicode:function(e){return m(e,(function(e){return c.test(e)?T(e.slice(4).toLowerCase()):e}))}},void 0===(o=function(){return s}.call(t,r,t,e))||(e.exports=o)}()}).call(this,r(125)(e),r(2))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){"use strict";t.decode=t.parse=r(128),t.encode=t.stringify=r(129)},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,i){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var h,f,p,d,_=e[l].replace(s,"%20"),g=_.indexOf(r);g>=0?(h=_.substr(0,g),f=_.substr(g+1)):(h=_,f=""),p=decodeURIComponent(h),d=decodeURIComponent(f),n(a,p)?o(a[p])?a[p].push(d):a[p]=[a[p],d]:a[p]=d}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,s){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?i(a(e),(function(a){var s=encodeURIComponent(n(a))+r;return o(e[a])?i(e[a],(function(e){return s+encodeURIComponent(n(e))})).join(t):s+encodeURIComponent(n(e[a]))})).join(t):s?encodeURIComponent(n(s))+r+encodeURIComponent(n(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){var n=r(41),o=r(15),i=e.exports;for(var a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);function s(e){if("string"==typeof e&&(e=o.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}i.request=function(e,t){return e=s(e),n.request.call(this,e,t)},i.get=function(e,t){return e=s(e),n.get.call(this,e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),o=r(0),i=r(132),a={[n.SpanKind.CLIENT]:i.SpanKind.CLIENT,[n.SpanKind.SERVER]:i.SpanKind.SERVER,[n.SpanKind.CONSUMER]:i.SpanKind.CONSUMER,[n.SpanKind.PRODUCER]:i.SpanKind.PRODUCER,[n.SpanKind.INTERNAL]:void 0};function s(e,t,r,o,i){const a={};for(const t of Object.keys(e))a[t]=String(e[t]);return a[r]=String(n.CanonicalCode[t.code]),t.message&&(a[o]=t.message),Object.keys(i.labels).forEach(e=>a[e]=i.labels[e]),a}function u(e){return e.map(e=>({timestamp:o.hrTimeToMicroseconds(e.time),value:e.name}))}t.statusCodeTagName="ot.status_code",t.statusDescriptionTagName="ot.status_description",t.toZipkinSpan=function(e,t,r,n){return{traceId:e.spanContext.traceId,parentId:e.parentSpanId,name:e.name,id:e.spanContext.spanId,kind:a[e.kind],timestamp:o.hrTimeToMicroseconds(e.startTime),duration:o.hrTimeToMicroseconds(e.duration),localEndpoint:{serviceName:t},tags:s(e.attributes,e.status,r,n,e.resource),annotations:e.events.length?u(e.events):void 0}},t._toZipkinTags=s,t._toZipkinAnnotations=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CLIENT="CLIENT",e.SERVER="SERVER",e.CONSUMER="CONSUMER",e.PRODUCER="PRODUCER"}(t.SpanKind||(t.SpanKind={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(134))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),o=r(0),i=r(10),a=r(135),s=r(136);class u extends o.BasePlugin{constructor(e={}){super("@opentelemetry/plugin-document-load",s.VERSION),this.component="document-load",this.version="1",this.moduleName=this.component,this._onDocumentLoaded=this._onDocumentLoaded.bind(this),this._config=e}_onDocumentLoaded(){window.setTimeout(()=>{this._collectPerformance()})}_addResourcesSpans(e){const t=o.otperformance.getEntriesByType("resource");t&&t.forEach(t=>{this._initResourceSpan(t,{parent:e})})}_addSpanNetworkEvents(e,t){i.addSpanNetworkEvent(e,i.PerformanceTimingNames.DOMAIN_LOOKUP_START,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.DOMAIN_LOOKUP_END,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.CONNECT_START,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.SECURE_CONNECTION_START,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.CONNECT_END,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.REQUEST_START,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.RESPONSE_START,t)}_collectPerformance(){const e=[...document.getElementsByTagName("meta")].find(e=>e.getAttribute("name")===o.TRACE_PARENT_HEADER),t=this._getEntries(),r=e&&e.content||"";n.context.with(n.propagation.extract({traceparent:r}),()=>{const e=this._startSpan(a.AttributeNames.DOCUMENT_LOAD,i.PerformanceTimingNames.FETCH_START,t);e&&(this._tracer.withSpan(e,()=>{const e=this._startSpan(a.AttributeNames.DOCUMENT_FETCH,i.PerformanceTimingNames.FETCH_START,t);e&&this._tracer.withSpan(e,()=>{this._addSpanNetworkEvents(e,t),this._endSpan(e,i.PerformanceTimingNames.RESPONSE_END,t)})}),this._addResourcesSpans(e),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.UNLOAD_EVENT_START,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.UNLOAD_EVENT_END,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.DOM_INTERACTIVE,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.DOM_CONTENT_LOADED_EVENT_START,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.DOM_CONTENT_LOADED_EVENT_END,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.DOM_COMPLETE,t),i.addSpanNetworkEvent(e,i.PerformanceTimingNames.LOAD_EVENT_START,t),this._endSpan(e,i.PerformanceTimingNames.LOAD_EVENT_END,t))})}_endSpan(e,t,r){e&&(i.hasKey(r,t)?(i.addSpanNetworkEvent(e,t,r),e.end(r[t])):e.end())}_getEntries(){const e={},t=o.otperformance.getEntriesByType("navigation")[0];if(t){Object.values(i.PerformanceTimingNames).forEach(r=>{if(i.hasKey(t,r)){const n=t[r];"number"==typeof n&&n>0&&(e[r]=n)}})}else{const t=o.otperformance.timing;if(t){Object.values(i.PerformanceTimingNames).forEach(r=>{if(i.hasKey(t,r)){const n=t[r];"number"==typeof n&&n>0&&(e[r]=n)}})}}return e}_initResourceSpan(e,t={}){const r=this._startSpan(e.name,i.PerformanceTimingNames.FETCH_START,e,t);r&&(this._addSpanNetworkEvents(r,e),this._endSpan(r,i.PerformanceTimingNames.RESPONSE_END,e))}_startSpan(e,t,r,n={}){if(i.hasKey(r,t)&&"number"==typeof r[t]){const o=this._tracer.startSpan(e,Object.assign({},{startTime:r[t]},n));return o.setAttribute(a.AttributeNames.COMPONENT,this.component),i.addSpanNetworkEvent(o,t,r),o}}_waitForPageLoad(){"complete"===window.document.readyState?this._onDocumentLoaded():window.addEventListener("load",this._onDocumentLoaded)}patch(){return this._waitForPageLoad(),this._moduleExports}unpatch(){window.removeEventListener("load",this._onDocumentLoaded)}}t.DocumentLoad=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.COMPONENT="component",e.DOCUMENT_LOAD="documentLoad",e.DOCUMENT_FETCH="documentFetch"}(t.AttributeNames||(t.AttributeNames={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION="0.8.0"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(138))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(40),o=r(0),i=r(10),a=r(139),s=r(140);class u extends o.BasePlugin{constructor(){super("@opentelemetry/plugin-user-interaction",s.VERSION),this.component="user-interaction",this.version=s.VERSION,this.moduleName=this.component,this._spansData=new WeakMap,this._zonePatched=!1}_checkForTimeout(e,t){const r=this._spansData.get(t);r&&("setTimeout"===e.source?r.hrTimeLastTimeout=o.hrTime():"Promise.then"!==e.source&&"setTimeout"!==e.source&&(r.hrTimeLastTimeout=void 0))}_createSpan(e,t){if(!e.getAttribute)return;if(e.hasAttribute("disabled"))return;const r=i.getElementXPath(e,!0);try{const n=this._tracer.startSpan("event_click: "+r,{attributes:{[a.AttributeNames.COMPONENT]:this.component,[a.AttributeNames.EVENT_TYPE]:t,[a.AttributeNames.TARGET_ELEMENT]:e.tagName,[a.AttributeNames.TARGET_XPATH]:r,[a.AttributeNames.HTTP_URL]:window.location.href,[a.AttributeNames.HTTP_USER_AGENT]:navigator.userAgent}});return this._spansData.set(n,{taskCount:0}),n}catch(e){this._logger.error(this.component,e)}}_decrementTask(e){const t=this._spansData.get(e);t&&(t.taskCount--,0===t.taskCount&&this._tryToEndSpan(e,t.hrTimeLastTimeout))}_getCurrentSpan(e){const t=e.get("OT_ZONE_CONTEXT");return t?t.getValue(o.ACTIVE_SPAN_KEY):t}_getClickedElement(e){if("click"===e.eventName)return e.target}_incrementTask(e){const t=this._spansData.get(e);t&&t.taskCount++}_patchElement(){const e=this;return t=>function(r,n,o){return t.call(this,r,(...t)=>{const r=this,o=e._createSpan(r,"click");return o?e._tracer.withSpan(o,()=>{const e=n.apply(r,t);return o.end(),e}):n.apply(r,t)},o)}}_patchHistoryApi(){this._unpatchHistoryApi(),n.wrap(history,"replaceState",this._patchHistoryMethod()),n.wrap(history,"pushState",this._patchHistoryMethod()),n.wrap(history,"back",this._patchHistoryMethod()),n.wrap(history,"forward",this._patchHistoryMethod()),n.wrap(history,"go",this._patchHistoryMethod())}_patchHistoryMethod(){const e=this;return t=>function(...r){const n=`${location.pathname}${location.hash}${location.search}`,o=t.apply(this,r),i=`${location.pathname}${location.hash}${location.search}`;return n!==i&&e._updateInteractionName(i),o}}_unpatchHistoryApi(){o.isWrapped(history.replaceState)&&n.unwrap(history,"replaceState"),o.isWrapped(history.pushState)&&n.unwrap(history,"pushState"),o.isWrapped(history.back)&&n.unwrap(history,"back"),o.isWrapped(history.forward)&&n.unwrap(history,"forward"),o.isWrapped(history.go)&&n.unwrap(history,"go")}_updateInteractionName(e){const t=this._tracer.getCurrentSpan();t&&"function"==typeof t.updateName&&t.updateName("Navigation: "+e)}_patchZoneCancelTask(){const e=this;return t=>function(r){const n=Zone.current,o=e._getCurrentSpan(n);return o&&e._shouldCountTask(r,n)&&e._decrementTask(o),t.call(this,r)}}_patchZoneScheduleTask(){const e=this;return t=>function(r){const n=Zone.current,o=e._getCurrentSpan(n);return o&&e._shouldCountTask(r,n)&&(e._incrementTask(o),e._checkForTimeout(r,o)),t.call(this,r)}}_patchZoneRunTask(){const e=this;return t=>function(r,n,o){const i=e._getClickedElement(r);let a;if(i){if(a=e._createSpan(i,"click"),a){e._incrementTask(a);try{return e._tracer.withSpan(a,()=>{const e=Zone.current;return r._zone=e,t.call(e,r,n,o)})}finally{e._decrementTask(a)}}}else a=e._getCurrentSpan(this);try{return t.call(this,r,n,o)}finally{a&&e._shouldCountTask(r,Zone.current)&&e._decrementTask(a)}}}_shouldCountTask(e,t){if(e._zone&&(t=e._zone),!t||!e.data||e.data.isPeriodic)return!1;const r=this._getCurrentSpan(t);return!!r&&(!!this._spansData.get(r)&&("macroTask"===e.type||"microTask"===e.type))}_tryToEndSpan(e,t){if(e){this._spansData.get(e)&&(e.end(t),this._spansData.delete(e))}}patch(){const e=this.getZoneWithPrototype();return this._logger.debug("applying patch to",this.moduleName,this.version,"zone:",!!e),e?(o.isWrapped(e.prototype.runTask)&&(n.unwrap(e.prototype,"runTask"),this._logger.debug("removing previous patch from method runTask")),o.isWrapped(e.prototype.scheduleTask)&&(n.unwrap(e.prototype,"scheduleTask"),this._logger.debug("removing previous patch from method scheduleTask")),o.isWrapped(e.prototype.cancelTask)&&(n.unwrap(e.prototype,"cancelTask"),this._logger.debug("removing previous patch from method cancelTask")),this._zonePatched=!0,n.wrap(e.prototype,"runTask",this._patchZoneRunTask()),n.wrap(e.prototype,"scheduleTask",this._patchZoneScheduleTask()),n.wrap(e.prototype,"cancelTask",this._patchZoneCancelTask())):(this._zonePatched=!1,o.isWrapped(HTMLElement.prototype.addEventListener)&&(n.unwrap(HTMLElement.prototype,"addEventListener"),this._logger.debug("removing previous patch from method addEventListener")),n.wrap(HTMLElement.prototype,"addEventListener",this._patchElement())),this._patchHistoryApi(),this._moduleExports}unpatch(){const e=this.getZoneWithPrototype();this._logger.debug("removing patch from",this.moduleName,this.version,"zone:",!!e),e&&this._zonePatched?(n.unwrap(e.prototype,"runTask"),n.unwrap(e.prototype,"scheduleTask"),n.unwrap(e.prototype,"cancelTask")):n.unwrap(HTMLElement.prototype,"addEventListener"),this._unpatchHistoryApi()}getZoneWithPrototype(){return window.Zone}}t.UserInteractionPlugin=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.COMPONENT="component",e.EVENT_TYPE="event_type",e.TARGET_ELEMENT="target_element",e.TARGET_XPATH="target_xpath",e.HTTP_URL="http.url",e.HTTP_USER_AGENT="http.user_agent"}(t.AttributeNames||(t.AttributeNames={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION="0.8.0"}]);
//# sourceMappingURL=bundle.js.map